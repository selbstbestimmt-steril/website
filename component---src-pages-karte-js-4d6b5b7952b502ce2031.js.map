{"version":3,"sources":["webpack:///./node_modules/pigeon-marker/lib/react/img/pin-hover.png","webpack:///./src/components/PlzInput.js","webpack:///./src/components/Map.js","webpack:///./src/components/BareLayout.js","webpack:///./src/pages/karte.js","webpack:///./node_modules/geolocation-utils/lib/cpa.js","webpack:///./node_modules/geolocation-utils/lib/convert.js","webpack:///./node_modules/pigeon-marker/lib/react/img/pin.png","webpack:///./node_modules/pigeon-marker/lib/react/img/pin-hover@2x.png","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.math.log2.js","webpack:///./node_modules/geolocation-utils/lib/geo.js","webpack:///./node_modules/pigeon-marker/lib/react/index.js","webpack:///./node_modules/geolocation-utils/lib/index.js","webpack:///./node_modules/point-in-polygon/index.js","webpack:///./node_modules/pigeon-marker/lib/react/infact.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.string.anchor.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/_string-html.js","webpack:///./node_modules/pigeon-maps/lib/index.js","webpack:///./node_modules/pigeon-marker/lib/react/img/pin@2x.png"],"names":["module","exports","PlzInput","onChange","useState","input","setInput","length","plz","setPLZ","useEffect","fetch","then","r","json","data","console","log","placeholder","type","el","target","value","JSON","stringify","find","e","parseInt","slice","MAP_PROVIDER","x","y","z","String","fromCharCode","FlexRow","styled","div","FlexColumn","Shadow","Flexible","StyledMarker","Marker","AddressCard","address","className","onClick","ev","address_name","address_street","address_street_no","address_plz","address_city","distance","Math","round","Searchbar","props","navigator","geolocation","getCurrentPosition","pos","onPosition","coords","latitude","longitude","_","Map","currentCenter","setCurrentCenter","currentZoom","setCurrentZoom","currentPosition","setCurrentPosition","addressesWithDistance","useMemo","addresses","map","a","distanceTo","lat","parseFloat","address_geo_latitude","lon","address_geo_longitude","initialCenter","onBoundsChanged","bounds","center","width","height","zoom","provider","styles","cursor","key","anchor","item","payload","Content","Layout","page","children","Karte","allAddressesJson","edges","n","node","query","Object","defineProperty","cpa","track1","track2","_headingDistanceTo","_geo","headingDistanceTo","location","heading","dx","sin","_convert","degToRad","dy","cos","tr1","position","vector","speed","tr2","time","cpaTime","cpaDistance","EPSILON","dv","subtract","dv2","dot","p1","add","times","p2","v","sqrt","norm","u","factor","angle","PI","radToDeg","knotsToMeterPerSecond","knots","meterPerSecondToKnots","meterPerSecond","knotsToKmPerHour","kmPerHourToKnots","kmPerHour","$export","S","log2","LN2","EARTH_RADIUS","undefined","isEqual","location1","location2","epsilon","arguments","abs","getLatitude","getLongitude","isLatLon","isLatLng","isLatitudeLongitude","isLonLatTuple","getLocationType","createLocation","toLatLon","lng","Error","toLatLng","toLatitudeLongitude","toLonLatTuple","moveTo","headingTo","insideBoundingBox","boundingBox","topLeftLon","topLeft","topLeftLat","bottomRightLon","bottomRight","bottomRightLat","minLat","min","maxLat","max","minLon","maxLon","insidePolygon","polygon","Array","isArray","TypeError","_pointInPolygon2","insideCircle","radius","normalizeHeading","normalized","normalizeLatitude","normalizeLongitude","normalizeLocation","average","locations","first","avg","getBoundingBox","margin","apply","_toConsumableArray","SQRT2","obj","_pointInPolygon","__esModule","arr","i","arr2","from","object","headingDistance","dLat","dLon","to","fromLat","fromLon","toLat","toLon","lat1","lat2","dlat","dlon","c","atan2","asin","values","reduce","b","sum","_createClass","defineProperties","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","prototype","_infact","_propTypes2","_interopRequireDefault","_pin2","_pin2x2","_pinHover2","_pinHover2x2","imageOffset","_Component","instance","_classCallCheck","this","_this","self","call","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","eventParameters","event","handleClick","handleContextMenu","onContextMenu","handleMouseOver","onMouseOver","setState","hover","handleMouseOut","onMouseOut","state","subClass","superClass","create","constructor","setPrototypeOf","_inherits","window","devicePixelRatio","isRetina","isHover","forEach","image","Image","src","_props","left","top","style","transform","React","createElement","alt","Component","propTypes","array","isRequired","any","bool","func","number","latLngToPixel","pixelToLatLng","keys","get","_cpa","point","vs","inside","j","xi","yi","xj","yj","ReactDOM","createHTML","name","fails","defined","quot","string","tag","attribute","replace","NAME","exec","O","P","F","test","toLowerCase","split","_interopDefault","ex","React__default","parentPosition","element","rect","getBoundingClientRect","parentHasClass","classList","contains","offsetParent","ANIMATION_TIME","DIAGONAL_THROW_TIME","SCROLL_PIXELS_FOR_ZOOM_LEVEL","MIN_DRAG_FOR_THROW","CLICK_TOLERANCE","DOUBLE_CLICK_DELAY","DEBOUNCE_DELAY","PINCH_RELEASE_THROW_DELAY","WARNING_DISPLAY_TIMEOUT","NOOP","stamenToner","dpr","lng2tile","pow","lat2tile","tan","tile2lng","tile2lat","atan","exp","getMousePixel","dom","parent","clientX","clientY","timeStart","absoluteMinMax","hasWindow","performanceNow","performance","now","Date","getTime","requestAnimationFrame","setTimeout","callback","cancelAnimationFrame","clearTimeout","srcSet","dprs","url","join","wait","timeout","updateWidthHeight","_containerRef","wa","t","o","addEventListener","wr","removeEventListener","bindMouseEvents","handleMouseDown","handleMouseUp","handleMouseMove","bindTouchEvents","handleTouchStart","passive","handleTouchMove","handleTouchEnd","unbindMouseEvents","unbindTouchEvents","bindResizeEvent","unbindResizeEvent","bindWheelEvent","handleWheel","unbindWheelEvent","setCenterZoomTarget","fromProps","zoomAround","animationDuration","animate","distanceInScreens","animateMaxScreens","_isAnimating","_animFrame","_this$animationStep","animationStep","centerStep","zoomStep","_centerStart","_zoomStart","limitCenterAtZoom","_lastCenter","_lastZoom","onAnimationStart","_animationStart","_animationEnd","_zoomAround","_centerTarget","calculateZoomCenter","_zoomTarget","stopAnimating","_center","setCenterZoom","centerTarget","zoomTarget","_this$state","l1","l2","z1","z2","w","h","timestamp","progress","percentage","zoomDiff","onAnimationStop","_this$animationStep2","minMax","getBoundsMinMax","isNaN","animationEnded","limitedCenter","tileValues","nextValues","oldTiles","filter","roundedZoom","concat","loadTracker","tileMinX","tileMaxX","tileMinY","tileMaxY","_loadTracker","maybeZoom","maybeCenter","syncToProps","limitBounds","_this$state2","_minMaxCache","pixelsAtZoom","minLng","maxLng","imageLoaded","k","touches","touch","pixel","coordsInside","_touchStartPixel","twoFingerDrag","_lastTap","preventDefault","latLngNow","minZoom","maxZoom","trackMoveEvents","stopTrackingMoveEvents","pixelDelta","zoomDelta","sendDeltaChange","t1","t2","_touchStartMidPoint","_touchStartDistance","showWarning","_this$state3","midPoint","midPointDiff","scale","centerDiffDiff","_this$props","zoomSnap","_this$sendDeltaChange","clearWarning","oldTouchPixel","newTouchPixel","changedTouches","_secondTouchEnd","throwAfterMoving","latLng","ceil","floor","_zoom","button","_lastClick","_mousePosition","_mouseDown","_dragStart","_this$sendDeltaChange2","_moveEvents","push","shift","_this$state4","lastEvent","deltaMs","delta","diagonal","throwTime","_this$state5","getBounds","zoomPlusDelta","_this$state6","ne","sw","initial","_boundsSynced","_this$props2","mouseEvents","metaWheelZoom","metaKey","addToZoom","deltaY","stillToAdd","zoomAroundMouse","_lastWheel","warningType","_warningClearTimeout","_this$props3","_this$state7","pointDiff","tileX","tileY","_this$state8","tileCenterX","tileCenterY","oldZoom","newZoom","_this$state9","pixelBefore","pixelAfter","newCenter","setRef","_len","args","_key","context","defaultZoom","defaultCenter","defaultWidth","defaultHeight","componentDidMount","touchEvents","componentWillUnmount","componentDidUpdate","prevProps","nextCenter","nextZoom","_state","document","elementFromPoint","scaleWidth","scaleHeight","halfWidth","halfHeight","renderTiles","_this2","mapUrl","_tileValues","tiles","old","xDiff","yDiff","_xMin","_yMin","_xMax","_yMax","active","xMin","yMin","xMax","yMax","_x13","_y","boxStyle","overflow","willChange","transformOrigin","boxClassname","tilesStyle","tile","loading","onLoad","opacity","renderOverlays","_this3","_state2","mapState","childrenWithProps","Children","child","_child$props","offset","cloneElement","childrenStyle","renderAttribution","attribution","attributionPrefix","linkStyle","color","textDecoration","bottom","right","fontSize","padding","background","fontFamily","href","renderWarning","_props2","metaWheelZoomWarning","twoFingerDragWarning","warningZIndex","_state3","pointerEvents","transition","display","justifyContent","alignItems","textAlign","zIndex","meta","platform","toUpperCase","indexOf","warningText","render","_props3","_state4","containerStyle","touchAction","hasSize","ref","defaultProps"],"mappings":"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","file":"component---src-pages-karte-js-4d6b5b7952b502ce2031.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAiCAYAAACjv9J3AAAD/ElEQVR4AWIgFkRFRTECSi8H7vqxIIDX+Nu2raP9Fuuv0Y+wx2tbxdqsbSupgvbVtvs8O5MzeUw2zT8551dd/DL3zp37iiQhKUgako6kIsnUZjXerogmzUD2I8eQ08h55AJyFjmJHEb2Ien6SziRZSJHWXD3008/fa6tve3j4eHhxvGJ8R5RFH+urql+BdueILeQc/wCGbwqiXaEacgh5FJWVtYzKGleW1/bCgaDYITP7wsuryyvqKpagmMesnw/kmIpZmE6cpwiGx4Zbt7e2fbqk+/4fDC5ugnC9DK0jS+Aa2kd5jd3QnKCXq6js+MzHH+NXzyVxZbChwsLC3P6RCQqlifh0ybZkOxWFSoHp2FtxxOSy4pcxkt+2FDMwlTevwck1CMrkibgk0Zp17SOzYfEkiyR+AZyEEmJlSYhB5Cb0zPTI7rw5+5hnGjANhXqVEisqEop5QaylzwhKS/rWdoL7oxCF3zS0P+0oHhSm8fj9QSys7NfxvlPIKmxUd6hDKSOraNz8HF9n2OGFtc08fzC/CzOf52jTSRpCnIiPz8/S1tWrw++bBqAj+p6HZPXKoeizc3NfZFzJllf2ot4FluoQ//MEnxY02MKrQJlqf64MJofO1TT/kMLq5q4t7f3F65gaQkc8s2l5aVlaszvHYEPqkVDBmaXwez5Q3AZjqkZnNSkU9NTLvRcRTITeD/vbW5teqjxh3YF3q8W4qC//89D0RuO+717SC8am5Q3yL4EPkMPqYF4v7LLkObhGbB6PqsVY8fR30KlkmoABalH+oD+SI2f1gjwXmVnLCidtpSajdUD4rp8kKT7KGwKnxp+7ZDh3fKOOP4RhyyW12047ruWfk1I20fbqEeaiVyljabGankMO7cbMrG8biot6Rs2HPN3t6pJKVEpYZG9JE1DzlJKU6M6uwTvlLUZ8nFVJ/ROLkTJ3F4fCc3GYP95TUpHko4mkp7Al/VROrx0iKnDV7Xd8HZpiykfVXXAL+0DhGW/Ha9Xk1Lx4VKYot8we5HrVK60Ij2zCG8VNzumQR3XhFRe+bgcCBV9vtZOUGHWoy0SB+HNoqanJq9BCGUtX+pnkfTYq42ivURXkd65SFDhzcIG2+TWdYeWla5KTqBQlJHiFC4UN+jy1cWFJC5o2DUk3GYhfRjggnDU6tPDYeSWJEnlYbECbxTUW5Jb2xUrfIQcR9JjhLsTF3TJ8Pq/dabk1HYaCU8YCu2La+PIrumwI7Qvzu+S4LV/akJkV7fDtsdjKXQu7pRsCR2JI7O6bmDYhtChWFH4HDMLi5rwoXOhufgQcgUvhw+np6cFQRQ+5g/Tx5wLzcUpyD4+e6c5uv1IqgOhrX+MU/l7kl3hfzyfUa7jdAMkAAAAAElFTkSuQmCC\"","import React, { useEffect, useState } from \"react\";\n\nexport default function PlzInput({ onChange }) {\n  let [input, setInput] = useState(\"\");\n  let entered = input.length > 0;\n  let [plz, setPLZ] = useState(null);\n  useEffect(() => {\n    if (!plz && input.length > 0) {\n      fetch(\"/plz_de.json\")\n        .then(r => r.json())\n        .then(data => setPLZ(data));\n    }\n  }, [input, plz]);\n  if (onChange && plz && input.length === 5) {\n    onChange(input);\n  }\n  console.log(plz && plz.length);\n  console.log(input);\n  return (\n    <>\n      <input\n        placeholder=\"Postleitzahlsuche...\"\n        type=\"text\"\n        onChange={el => setInput(el.target.value)}\n        value={input}\n      />\n      <div>\n        {JSON.stringify(plz && plz.length)}\n        {plz && input.length === 5\n          ? plz.find(e => parseInt(input) === e[0]).slice(1)\n          : \"...\"}\n      </div>\n    </>\n  );\n}\n","import React, { useMemo, useState } from \"react\";\nimport PigeonMap from \"pigeon-maps\";\nimport Marker from \"pigeon-marker\";\nimport styled from \"styled-components\";\nimport { distanceTo } from \"geolocation-utils\";\nimport PlzInput from \"./PlzInput\";\n\nconst OSM_PROVIDER = (x, y, z) => {\n  const s = String.fromCharCode(97 + ((x + y + z) % 3));\n  return `https://${s}.tile.openstreetmap.org/${z}/${x}/${y}.png`;\n};\n\nconst STAMEN_WATERCOLOR_PROVIDER = (x, y, z, dpr) => {\n  return `https://stamen-tiles.a.ssl.fastly.net/watercolor/${z}/${x}/${y}${\n    dpr >= 2 ? \"@2x\" : \"\"\n  }.jpg`;\n};\n\nconst STAMEN_ATTRIBUTION = () => (\n  <span className=\"map-attribution\">\n    Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, under{\" \"}\n    <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a>. Data by{\" \"}\n    <a href=\"http://openstreetmap.org\">OpenStreetMap</a>, under{\" \"}\n    <a href=\"http://www.openstreetmap.org/copyright\">ODbL</a>.\n  </span>\n);\n\nconst MAP_PROVIDER = OSM_PROVIDER;\nconst MAP_ATTRIBUTION = STAMEN_ATTRIBUTION;\n\nconst FlexRow = styled.div`\n  display: flex;\n`;\n\nconst FlexColumn = styled.div`\n  flex-direction: column;\n`;\n\nconst Shadow = styled.div`\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n`;\n\nconst Flexible = styled.div`\n  flex: 1;\n`;\n\nconst StyledMarker = styled(Marker)`\n  cursor: pointer;\n`;\n\nconst AddressCard = styled(({ address, className, onClick }) => {\n  return (\n    <div className={className} onClick={ev => onClick(address)}>\n      <h2>{address.address_name}</h2>\n      <p>\n        {address.address_street} {address.address_street_no}\n      </p>\n      <p>\n        {address.address_plz} {address.address_city}\n      </p>\n      {address.distance ? (\n        <p>Entfernung: {Math.round(address.distance / 1000.0)} km</p>\n      ) : null}\n    </div>\n  );\n})`\n  padding: 1rem;\n  margin-left: 1rem;\n\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n\n  &:hover {\n    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n    cursor: pointer;\n  }\n\n  h2 {\n    font-size: 1rem;\n    padding: 0;\n    margin: 0;\n  }\n\n  p {\n    padding: 0;\n    margin: 0;\n  }\n`;\n\nconst Searchbar = styled(props => {\n  function getPosition() {\n    navigator.geolocation.getCurrentPosition(\n      pos => props.onPosition([pos.coords.latitude, pos.coords.longitude]),\n      _ => props.onPosition([49.46113488438747, 11.060361649632542])\n    );\n  }\n\n  return (\n    <div className={props.className}>\n      <button onClick={getPosition}>Standort lokalisieren</button>\n      <span>oder...</span>\n      <PlzInput />\n    </div>\n  );\n})`\n  width: 400px;\n  justify-content: space-between;\n  align-items: center;\n  display: flex;\n  margin-bottom: 1rem;\n  input {\n    height: 1.5rem;\n  }\n  button {\n    height: 2rem;\n    border: none;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n\n    &:hover {\n      box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25),\n        0 10px 10px rgba(0, 0, 0, 0.22);\n      cursor: pointer;\n    }\n\n    &:active {\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    }\n  }\n`;\n\nexport default function Map(props) {\n  const [currentCenter, setCurrentCenter] = useState(null);\n  const [currentZoom, setCurrentZoom] = useState(6);\n  const [currentPosition, setCurrentPosition] = useState(null);\n  const addressesWithDistance = useMemo(\n    () =>\n      props.addresses.map(a => {\n        if (!currentPosition) return a;\n        let distance = distanceTo(\n          {\n            lat: parseFloat(a.address_geo_latitude),\n            lon: parseFloat(a.address_geo_longitude)\n          },\n          { lat: currentPosition[0], lon: currentPosition[1] }\n        );\n        return { ...a, distance: distance };\n      }),\n    currentPosition\n  );\n  return (\n    <FlexColumn>\n      <Searchbar\n        onPosition={pos => {\n          setCurrentPosition(pos);\n          setCurrentCenter(pos);\n          setCurrentZoom(10);\n        }}\n      />\n      <FlexRow>\n        <Shadow>\n          <PigeonMap\n            onClick={ev => {\n              setCurrentZoom(6);\n              setCurrentCenter(props.initialCenter);\n            }}\n            onBoundsChanged={bounds => {\n              console.log(bounds.center);\n              setCurrentCenter(bounds.center);\n            }}\n            width={400}\n            height={400}\n            center={currentCenter ? currentCenter : props.initialCenter}\n            zoom={currentZoom}\n            provider={MAP_PROVIDER}\n          >\n            {props.addresses.map(a => (\n              <StyledMarker\n                styles={{ cursor: \"pointer\" }}\n                key={`${a.address_geo_latitude},${a.address_geo_longitude}`}\n                anchor={[\n                  parseFloat(a.address_geo_latitude),\n                  parseFloat(a.address_geo_longitude)\n                ]}\n                onClick={item => {\n                  setCurrentCenter([\n                    item.payload.address_geo_latitude,\n                    item.payload.address_geo_longitude\n                  ]);\n                  setCurrentZoom(10);\n                }}\n                payload={a}\n              />\n            ))}\n          </PigeonMap>\n        </Shadow>\n        <Flexible>\n          <FlexColumn>\n            {addressesWithDistance.map(a => (\n              <AddressCard\n                key={`address-${a.address_geo_latitude},${a.address_geo_longitude}`}\n                address={a}\n                onClick={item => {\n                  setCurrentCenter([\n                    item.address_geo_latitude,\n                    item.address_geo_longitude\n                  ]);\n                  setCurrentZoom(10);\n                }}\n              />\n            ))}\n          </FlexColumn>\n        </Flexible>\n      </FlexRow>\n    </FlexColumn>\n  );\n}\n","import React from \"react\";\nimport CoverImage from \"./CoverImage\";\nimport Navigation from \"./Navigation\";\nimport styled from \"styled-components\";\n\nconst Content = styled.div`\n  max-width: 750px;\n  margin: auto;\n  padding: 80px 10px;\n  font-family: \"Fira Sans\", sans-serif, \"google\";\n  font-size: 14px;\n  line-height: 1.5;\n\n  h1 {\n    font-size: 38px;\n    font-weight: normal;\n    color: #0e4f5d;\n    line-height: 1em;\n    text-transform: uppercase;\n    font-style: normal;\n    text-align: center;\n    margin: 0;\n  }\n\n  h2 {\n    font-size: 18px;\n    font-weight: normal;\n    text-align: left;\n    color: #0e4f5d;\n    line-height: 1.25;\n    margin-top: 3em;\n  }\n\n  p {\n    hyphens: auto;\n    text-align: justify;\n  }\n\n  a:link,\n  a:active,\n  a:hover,\n  a:visited {\n    color: #0e4f5d;\n  }\n\n  @media (max-width: 767px) {\n    padding: 50px 16px;\n\n    h1 {\n      font-size: 30px !important;\n    }\n\n    h2 {\n      font-size: 26px !important;\n      margin-bottom: 0.3em;\n    }\n\n    h3 {\n      font-size: 22px !important;\n    }\n\n    h4 {\n      font-size: 19px !important;\n    }\n\n    p {\n      margin-top: 0.8em;\n      margin-bottom: 1.6em;\n    }\n  }\n`;\n\nfunction Layout({ page, children }) {\n  return (\n    <div>\n      <Content>{children}</Content>\n    </div>\n  );\n}\n\nexport default Layout;\n","import React from \"react\";\nimport Map from \"../components/Map\";\nimport Layout from \"../components/BareLayout\";\n\nexport default function Karte(props) {\n  const addresses = props.data.allAddressesJson.edges.map(n => n.node);\n  return (\n    <Layout>\n      <Map\n        initialCenter={[51.07406058399357, 10.692255468750005]}\n        addresses={addresses}\n      />\n    </Layout>\n  );\n}\n\nexport const query = graphql`\n  query MyQuery {\n    allAddressesJson {\n      edges {\n        node {\n          address_name\n          address_street\n          address_street_no\n          address_city\n          address_plz\n          address_geo_latitude\n          address_geo_longitude\n          address_info\n        }\n      }\n    }\n  }\n`;\n","'use strict';\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cpa = cpa;\nexports.cpaTime = cpaTime;\nexports.cpaDistance = cpaDistance;\n\nvar _geo = require('./geo');\n\nvar _convert = require('./convert');\n\nvar EPSILON = 1e-8;\n/**\n * Calculate the CPA (closest point of approach) for two tracks\n *\n *     !!!MINT THE UNITS (ALL SI) !!!\n *\n * - Position of the tracks is a longitude/latitude\n * - Speed is in meters per second\n * - Heading is an angle in degrees\n * - Returned time is in seconds\n * - Returned distance is in meters\n *\n * Note: this function calculates a cheap, linear approximation of CPA\n *\n * Source: http://geomalgorithms.com/a07-_distance.html\n *\n * @param {LocationHeadingSpeed} track1\n * @param {LocationHeadingSpeed} track2\n * @return {TimeDistance}  Returns an object with time (s) and distance (m)\n */\n\nfunction cpa(track1, track2) {\n  var _headingDistanceTo = (0, _geo.headingDistanceTo)(track1.location, track2.location),\n      distance = _headingDistanceTo.distance,\n      heading = _headingDistanceTo.heading;\n\n  var dx = distance * Math.sin((0, _convert.degToRad)(heading));\n  var dy = distance * Math.cos((0, _convert.degToRad)(heading));\n  var tr1 = {\n    position: {\n      x: 0,\n      y: 0\n    },\n    vector: {\n      x: track1.speed * Math.sin((0, _convert.degToRad)(track1.heading)),\n      y: track1.speed * Math.cos((0, _convert.degToRad)(track1.heading))\n    }\n  };\n  var tr2 = {\n    position: {\n      x: dx,\n      y: dy\n    },\n    vector: {\n      x: track2.speed * Math.sin((0, _convert.degToRad)(track2.heading)),\n      y: track2.speed * Math.cos((0, _convert.degToRad)(track2.heading))\n    }\n  };\n  return {\n    time: cpaTime(tr1, tr2),\n    // seconds\n    distance: cpaDistance(tr1, tr2) // meters\n\n  };\n}\n/**\n * Compute the time of CPA for two tracks\n * @param {{position: {x, y}, vector: {x, y}}} tr1\n * @param {{position: {x, y}, vector: {x, y}}} tr2\n * @return {number} The time at which the two tracks are closest in seconds\n * @private\n */\n\n\nfunction cpaTime(tr1, tr2) {\n  var dv = subtract(tr1.vector, tr2.vector);\n  var dv2 = dot(dv, dv);\n\n  if (dv2 < EPSILON) {\n    // the  tracks are almost parallel\n    return 0; // any time is ok. Use time 0.\n  }\n\n  var w0 = subtract(tr1.position, tr2.position);\n  return -dot(w0, dv) / dv2; // time of CPA\n}\n/**\n * Compute the distance at CPA for two tracks\n * @param {{position: {x, y}, vector: {x, y}}} tr1\n * @param {{position: {x, y}, vector: {x, y}}} tr2\n * @return {number} The distance for which the two tracks are closest\n * @private\n */\n\n\nfunction cpaDistance(tr1, tr2) {\n  var time = cpaTime(tr1, tr2);\n  var p1 = add(tr1.position, times(time, tr1.vector));\n  var p2 = add(tr2.position, times(time, tr2.vector));\n  return distance(p1, p2); // distance at CPA\n}\n\nfunction dot(u, v) {\n  return u.x * v.x + u.y * v.y;\n}\n\nfunction add(u, v) {\n  return {\n    x: u.x + v.x,\n    y: u.y + v.y\n  };\n}\n\nfunction times(factor, v) {\n  return {\n    x: factor * v.x,\n    y: factor * v.y\n  };\n}\n\nfunction subtract(u, v) {\n  return {\n    x: u.x - v.x,\n    y: u.y - v.y\n  };\n}\n\nfunction distance(u, v) {\n  return norm(subtract(u, v));\n}\n\nfunction norm(v) {\n  return Math.sqrt(dot(v, v));\n}","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.degToRad = degToRad;\nexports.radToDeg = radToDeg;\nexports.knotsToMeterPerSecond = knotsToMeterPerSecond;\nexports.meterPerSecondToKnots = meterPerSecondToKnots;\nexports.knotsToKmPerHour = knotsToKmPerHour;\nexports.kmPerHourToKnots = kmPerHourToKnots;\n/**\n * Convert an angle in degrees into an angle in radians\n * @param {number} angle   An angle in degrees\n * @return {number} Returns an angle in radians\n */\n\nfunction degToRad(angle) {\n  return angle * Math.PI / 180;\n}\n/**\n * Convert an angle in radians into an angle in degrees\n * @param {number} angle  An angle in radians\n * @return {number} Returns an angle in degrees\n */\n\n\nfunction radToDeg(angle) {\n  return angle * 180 / Math.PI;\n}\n/**\n * Convert a speed in knots into a speed in meter per second\n * 1 knot is 0.514444 m/s\n * @param {number} knots \n * @return {number} Returns speed in m/s\n */\n\n\nfunction knotsToMeterPerSecond(knots) {\n  return knots * 0.514444;\n}\n/**\n * Convert a speed in meter per second into a speed in knots\n * 1 knot is 0.514444 m/s\n * @param {number} knots \n * @return {number} Returns speed in m/s\n */\n\n\nfunction meterPerSecondToKnots(meterPerSecond) {\n  return meterPerSecond / 0.514444;\n}\n/**\n * Convert a speed in knots into a speed in kilometer per hour\n * 1 knot is 1.852 kilometer per hour\n * @param {number} knots   A speed in knots\n * @return {number} Returns speed in km/h\n */\n\n\nfunction knotsToKmPerHour(knots) {\n  return knots * 1.852;\n}\n/**\n * Convert a speed in kilometer per hour into a speed in knots\n * 1 knot is 1.852 kilometer per hour\n * @param {number} kmPerHour   A speed in km/h\n * @return {number} Returns speed in knots\n */\n\n\nfunction kmPerHourToKnots(kmPerHour) {\n  return kmPerHour / 1.852;\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAiCAYAAACjv9J3AAACQ0lEQVR4AWLABkbBv3//BIHYEYgLgbgRiAOB2IAWFrEAaKunwwiDIIDjTaSElJIOUsKVkCpi27ZtnG0jtu1MZh8mnD3fw/9tZ3+fPywPU2Ig6QqbxBTpAAXmoc0fX19h7+oObAcXYNg5hfD5DZzcPRJMKbGcZMEe2khAs749qNH42Jr1AVgOHsD14/NPXJEUKM5sxrcL1Rpv3Om3TxKCCawksN8WgWq1J+GWA/s8LAFzaHGfNZwUSC19wwdYVjR0EsNLdAzVKnfKhc+uCe6UgdkYPL68QqPWC1VKV8q1GwNRz5ZeD/AcXUTdaMi1CyvbF6A+uAXRdOBIPL3S9aHTK4JzOXQMgyn3FlSsO9gmfAcCYms1BtmZ9dA+oWUcasWgxxSAijXHv5r0PgLY8OzZuWFbmNA1DgVR+aqNbdCxLQWpqg3Hv7k6pZPQKw69wsSi5NF1BzdLKHDoGgZDlgCUrVj+hU9irMvLznUbvIRaObQMg9XADjssmgseS9Euc4idmXCECR3j0FwMgsd4xMtmtspVK4x79n5h67tX0GkKSmdc+6eE5nFoFnaAQbPaCaVLJmkVeAZNWo8o6rqaNav42BCaLfsqddLZluBQqmlCewROkhH1bGedYShZMCRdp9ZFINBPPRqswCBZmMDHlxcCK+VaFLhoThd3HRrHT7AnLpCFHeH4QHUKIA+HoHBWK61dZU8d5OEgFM5o/pVWkIXtv+E2pS39IAfPIFwwrc4syMEq/3bmQQ7+HO0txGyqNhIqaUYBAA36UJJokkxWAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,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\"","// 20.2.2.22 Math.log2(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log2: function log2(x) {\n    return Math.log(x) / Math.LN2;\n  }\n});\n","'use strict';\n\nrequire(\"core-js/modules/es6.array.reduce\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EARTH_RADIUS = undefined;\nexports.isEqual = isEqual;\nexports.isLatLon = isLatLon;\nexports.isLatLng = isLatLng;\nexports.isLatitudeLongitude = isLatitudeLongitude;\nexports.isLonLatTuple = isLonLatTuple;\nexports.getLocationType = getLocationType;\nexports.createLocation = createLocation;\nexports.toLatLon = toLatLon;\nexports.toLatLng = toLatLng;\nexports.toLatitudeLongitude = toLatitudeLongitude;\nexports.toLonLatTuple = toLonLatTuple;\nexports.getLongitude = getLongitude;\nexports.getLatitude = getLatitude;\nexports.moveTo = moveTo;\nexports.headingDistanceTo = headingDistanceTo;\nexports.headingTo = headingTo;\nexports.distanceTo = distanceTo;\nexports.insideBoundingBox = insideBoundingBox;\nexports.insidePolygon = insidePolygon;\nexports.insideCircle = insideCircle;\nexports.normalizeHeading = normalizeHeading;\nexports.normalizeLatitude = normalizeLatitude;\nexports.normalizeLongitude = normalizeLongitude;\nexports.normalizeLocation = normalizeLocation;\nexports.average = average;\nexports.getBoundingBox = getBoundingBox;\n\nvar _pointInPolygon = require('point-in-polygon');\n\nvar _pointInPolygon2 = _interopRequireDefault(_pointInPolygon);\n\nvar _convert = require('./convert');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nvar EARTH_RADIUS = exports.EARTH_RADIUS = 6378137; // Earth's radius in meters\n\n/**\n * Test whether two locations are equal or approximately equal\n * @param {Location} location1     A location in any of the supported location formats\n * @param {Location} location2     A location in any of the supported location formats\n * @param {number} [epsilon=0]     The maximum absolute difference between the\n *                                 two latitudes and between the two longitudes.\n *                                 Use for example 1e-12 to get rid of round-off errors.\n *                                 The epsilon value itself is included.\n *                                 Optional, default value is 0.\n */\n\nfunction isEqual(location1, location2) {\n  var epsilon = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  return location1 && location2 ? Math.abs(getLatitude(location1) - getLatitude(location2)) <= epsilon && Math.abs(getLongitude(location1) - getLongitude(location2)) <= epsilon : false;\n}\n/**\n * Test whether an object is an object containing numeric properties `lat` and `lon`\n * @param {*} object Anything\n * @param {boolean} Returns true when object is of type LatLon\n */\n\n\nfunction isLatLon(object) {\n  return !!object && typeof object.lat === 'number' && typeof object.lon === 'number';\n}\n/**\n * Test whether an object is an object containing numeric properties `lat` and `lng`\n * @param {*} object Anything\n * @param {boolean} Returns true when object is of type LatLng\n */\n\n\nfunction isLatLng(object) {\n  return !!object && typeof object.lat === 'number' && typeof object.lng === 'number';\n}\n/**\n * Test whether an object is an object containing numeric properties `latitude` and `longitude`\n * @param {*} object Anything\n * @param {boolean} Returns true when object is of type LatitudeLongitude\n */\n\n\nfunction isLatitudeLongitude(object) {\n  return !!object && typeof object.latitude === 'number' && typeof object.longitude === 'number';\n}\n/**\n * Test whether an object is an array containing two numbers (longitude and latitude)\n * \n * IMPORTANT: this function cannot see the difference between an array with lat/lon\n *            or an array with lon/lat numbers. It assumes an order lon/lat.\n * \n * @param {*} object Anything\n * @param {boolean} Returns true when object is of type LonLatTuple\n */\n\n\nfunction isLonLatTuple(object) {\n  return Array.isArray(object) && typeof object[0] === 'number' && typeof object[1] === 'number';\n}\n/**\n * Get the type of a location object\n * @param {Location} location\n * @return {string} Returns the type of the location object\n *                  Recognized types: 'LonLatTuple', 'LatLon', 'LatLng', 'LatitudeLongitude'\n */\n\n\nfunction getLocationType(location) {\n  if (isLonLatTuple(location)) {\n    return 'LonLatTuple';\n  }\n\n  if (isLatLon(location)) {\n    return 'LatLon';\n  }\n\n  if (isLatLng(location)) {\n    return 'LatLng';\n  }\n\n  if (isLatitudeLongitude(location)) {\n    return 'LatitudeLongitude';\n  }\n\n  throw new Error('Unknown location format ' + JSON.stringify(location));\n}\n/**\n * Create a location object of a specific type\n * @param {number} latitude\n * @param {number} longitude\n * @param {string} type  Available types: 'LonLatTuple', 'LatLon', 'LatLng', 'LatitudeLongitude'\n */\n\n\nfunction createLocation(latitude, longitude, type) {\n  if (type === 'LonLatTuple') {\n    return [longitude, latitude];\n  }\n\n  if (type === 'LatLon') {\n    return {\n      lat: latitude,\n      lon: longitude\n    };\n  }\n\n  if (type === 'LatLng') {\n    return {\n      lat: latitude,\n      lng: longitude\n    };\n  }\n\n  if (type === 'LatitudeLongitude') {\n    return {\n      latitude: latitude,\n      longitude: longitude\n    };\n  }\n\n  throw new Error('Unknown location format ' + JSON.stringify(location));\n}\n/**\n * Convert a location into an object with properties `lat` and `lon`\n * @param {Location} location\n * @returns {LatLon}\n */\n\n\nfunction toLatLon(location) {\n  if (isLonLatTuple(location)) {\n    return {\n      lat: location[1],\n      lon: location[0]\n    };\n  }\n\n  if (isLatLon(location)) {\n    return {\n      lat: location.lat,\n      lon: location.lon\n    };\n  }\n\n  if (isLatLng(location)) {\n    return {\n      lat: location.lat,\n      lon: location.lng\n    };\n  }\n\n  if (isLatitudeLongitude(location)) {\n    return {\n      lat: location.latitude,\n      lon: location.longitude\n    };\n  }\n\n  throw new Error('Unknown location format ' + JSON.stringify(location));\n}\n/**\n * Convert a location into an object with properties `lat` and `lng`\n * @param {Location} location\n * @returns {LatLng}\n */\n\n\nfunction toLatLng(location) {\n  if (isLonLatTuple(location)) {\n    return {\n      lat: location[1],\n      lng: location[0]\n    };\n  }\n\n  if (isLatLon(location)) {\n    return {\n      lat: location.lat,\n      lng: location.lon\n    };\n  }\n\n  if (isLatLng(location)) {\n    return {\n      lat: location.lat,\n      lng: location.lng\n    };\n  }\n\n  if (isLatitudeLongitude(location)) {\n    return {\n      lat: location.latitude,\n      lng: location.longitude\n    };\n  }\n\n  throw new Error('Unknown location format ' + JSON.stringify(location));\n}\n/**\n * Convert a location into an object with properties `latitude` and `longitude`\n * @param {Location} location\n * @returns {LatitudeLongitude}\n */\n\n\nfunction toLatitudeLongitude(location) {\n  if (isLonLatTuple(location)) {\n    return {\n      latitude: location[1],\n      longitude: location[0]\n    };\n  }\n\n  if (isLatLon(location)) {\n    return {\n      latitude: location.lat,\n      longitude: location.lon\n    };\n  }\n\n  if (isLatLng(location)) {\n    return {\n      latitude: location.lat,\n      longitude: location.lng\n    };\n  }\n\n  if (isLatitudeLongitude(location)) {\n    return {\n      latitude: location.latitude,\n      longitude: location.longitude\n    };\n  }\n\n  throw new Error('Unknown location format ' + JSON.stringify(location));\n}\n/**\n * Convert a location into a tuple `[longitude, latitude]`, as used in the geojson standard\n * \n * Note that for example Leaflet uses a tuple `[latitude, longitude]` instead, be careful!\n * \n * @param {Location} location\n * @returns {LonLatTuple}\n */\n\n\nfunction toLonLatTuple(location) {\n  if (isLonLatTuple(location)) {\n    return [location[0], location[1]];\n  }\n\n  if (isLatLon(location)) {\n    return [location.lon, location.lat];\n  }\n\n  if (isLatLng(location)) {\n    return [location.lng, location.lat];\n  }\n\n  if (isLatitudeLongitude(location)) {\n    return [location.longitude, location.latitude];\n  }\n\n  throw new Error('Unknown location format ' + JSON.stringify(location));\n}\n/**\n * Get the longitude of a location\n * @param {Location} location\n * @return {number} Returns the longitude\n */\n\n\nfunction getLongitude(location) {\n  if (isLonLatTuple(location)) {\n    return location[0];\n  }\n\n  if (isLatLon(location)) {\n    return location.lon;\n  }\n\n  if (isLatLng(location)) {\n    return location.lng;\n  }\n\n  if (isLatitudeLongitude(location)) {\n    return location.longitude;\n  }\n\n  throw new Error('Unknown location format ' + JSON.stringify(location));\n}\n/**\n * Get the latitude of a location object or array\n * @param {Location} location\n * @return {number} Returns the latitude\n */\n\n\nfunction getLatitude(location) {\n  if (isLonLatTuple(location)) {\n    return location[1];\n  }\n\n  if (isLatLon(location)) {\n    return location.lat;\n  }\n\n  if (isLatLng(location)) {\n    return location.lat;\n  }\n\n  if (isLatitudeLongitude(location)) {\n    return location.latitude;\n  }\n\n  throw new Error('Unknown location format ' + JSON.stringify(location));\n}\n/**\n * Move to a new location from a start location, heading, and distance\n *\n * This is a rough estimation.\n *\n * Source: \n * \n *   http://gis.stackexchange.com/questions/2951/algorithm-for-offsetting-a-latitude-longitude-by-some-amount-of-meters\n * \n * @param {Location} from             Start location\n * @param {HeadingDistance} headingDistance   An object with property `heading` in degrees and `distance` in meters\n * @return {Location} Returns the moved location\n */\n\n\nfunction moveTo(from, headingDistance) {\n  // TODO: improve precision of this function moveTo\n  var lat = getLatitude(from);\n  var lon = getLongitude(from);\n  var heading = headingDistance.heading,\n      distance = headingDistance.distance;\n  var dLat = distance * Math.cos((0, _convert.degToRad)(heading)) / EARTH_RADIUS;\n  var dLon = distance * Math.sin((0, _convert.degToRad)(heading)) / (EARTH_RADIUS * Math.cos((0, _convert.degToRad)(lat)));\n  return createLocation(lat + (0, _convert.radToDeg)(dLat), lon + (0, _convert.radToDeg)(dLon), getLocationType(from));\n}\n/**\n * Calculate the heading and distance between two locations\n *\n * Sources:\n * \n *   http://www.movable-type.co.uk/scripts/latlong.html\n *   http://mathforum.org/library/drmath/view/55417.html\n * \n * @param {Location} from   Start location\n * @param {Location} to     End location\n * @return {HeadingDistance}  Returns an object with `heading` in degrees and `distance` in meters\n */\n\n\nfunction headingDistanceTo(from, to) {\n  var fromLat = getLatitude(from);\n  var fromLon = getLongitude(from);\n  var toLat = getLatitude(to);\n  var toLon = getLongitude(to);\n  var lat1 = (0, _convert.degToRad)(fromLat);\n  var lat2 = (0, _convert.degToRad)(toLat);\n  var dlat = (0, _convert.degToRad)(toLat - fromLat);\n  var dlon = (0, _convert.degToRad)(toLon - fromLon);\n  var a = Math.sin(dlat / 2) * Math.sin(dlat / 2) + Math.cos(lat1) * Math.cos(lat2) * Math.sin(dlon / 2) * Math.sin(dlon / 2);\n  var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  var distance = EARTH_RADIUS * c;\n  var y = Math.sin(dlon) * Math.cos(lat2);\n  var x = Math.cos(lat1) * Math.sin(lat2) - Math.sin(lat1) * Math.cos(lat2) * Math.cos(dlon);\n  var heading = (0, _convert.radToDeg)(Math.atan2(y, x));\n  return {\n    distance: distance,\n    heading: heading\n  };\n}\n/**\n * Calculate the heading from one location to another location\n * @param {Location} center \n * @param {Location} location \n * @return {number} Returns an heading in degrees\n */\n\n\nfunction headingTo(center, location) {\n  return headingDistanceTo(center, location).heading;\n}\n/**\n * Calculate the distance between two locations\n * @param {Location} center \n * @param {Location} location \n * @return {number} Returns the distance in meters\n */\n\n\nfunction distanceTo(center, location) {\n  return headingDistanceTo(center, location).distance;\n}\n/**\n * Test whether a location lies inside a given bounding box.\n * @param {Location} location\n * @param {BoundingBox} boundingBox\n *            A bounding box containing a top left and bottom right location.\n *            The order doesn't matter.\n * @return {boolean} Returns true when the location is inside the bounding box\n *                   or on the edge.\n */\n\n\nfunction insideBoundingBox(location, boundingBox) {\n  var lat = getLatitude(location);\n  var lon = getLongitude(location);\n  var topLeftLon = getLongitude(boundingBox.topLeft);\n  var topLeftLat = getLatitude(boundingBox.topLeft);\n  var bottomRightLon = getLongitude(boundingBox.bottomRight);\n  var bottomRightLat = getLatitude(boundingBox.bottomRight);\n  var minLat = Math.min(topLeftLat, bottomRightLat);\n  var maxLat = Math.max(topLeftLat, bottomRightLat);\n  var minLon = Math.min(topLeftLon, bottomRightLon);\n  var maxLon = Math.max(topLeftLon, bottomRightLon);\n  return lon >= minLon && lon <= maxLon && lat >= minLat && lat <= maxLat;\n}\n/**\n * Test whether a location lies inside a given polygon\n * @param {Location} location \n * @param {Location[]} polygon  \n * @return {boolean} Returns true when the location is inside the bounding box\n *                   or on the edge.\n */\n\n\nfunction insidePolygon(location, polygon) {\n  if (!polygon || !Array.isArray(polygon)) {\n    throw new TypeError('Invalid polygon. Array with locations expected');\n  }\n\n  if (polygon.length === 0) {\n    throw new TypeError('Invalid polygon. Non-empty Array expected');\n  }\n\n  return (0, _pointInPolygon2[\"default\"])(toLonLatTuple(location), polygon.map(toLonLatTuple));\n}\n/**\n * Test whether a location lies inside a circle with certain radius\n * @param {Location} location \n * @param {Location} center \n * @param {number} radius    A radius in meters\n * @return {boolean} Returns true when the location lies inside or \n *                   on the edge of the circle\n */\n\n\nfunction insideCircle(location, center, radius) {\n  return distanceTo(center, location) <= radius;\n}\n/**\n * Normalize an heading into the range [0, 360)\n * @param {number} heading   An heading in degrees\n * @return {number} Returns the normalized heading (degrees)\n */\n\n\nfunction normalizeHeading(heading) {\n  var normalized = heading % 360;\n\n  if (normalized < 0) {\n    normalized += 360;\n  }\n\n  if (normalized >= 360) {\n    normalized -= 360;\n  }\n\n  return normalized;\n}\n/**\n * Normalize a latitude into the range [-90, 90] (upper and lower bound included)\n * \n * See https://stackoverflow.com/questions/13368525/modulus-to-limit-latitude-and-longitude-values\n * \n * @param {number} latitude \n * @return {number} Returns the normalized latitude\n */\n\n\nfunction normalizeLatitude(latitude) {\n  return Math.asin(Math.sin(latitude / 180 * Math.PI)) * (180 / Math.PI);\n}\n/**\n * Normalize a longitude into the range (-180, 180] (lower bound excluded, upper bound included)\n * \n * @param {number} longitude \n * @return {number} Returns the normalized longitude\n */\n\n\nfunction normalizeLongitude(longitude) {\n  var normalized = longitude % 360;\n\n  if (normalized > 180) {\n    normalized -= 360;\n  }\n\n  if (normalized <= -180) {\n    normalized += 360;\n  }\n\n  return normalized;\n}\n/**\n * Normalize the longitude and latitude of a location.\n * Latitude will be in the range [-90, 90] (upper and lower bound included)\n * Lontitude will be in the range (-180, 180] (lower bound excluded, upper bound included)\n * @param {Location} location \n * @return {Location} Returns the normalized location\n */\n\n\nfunction normalizeLocation(location) {\n  if (isLonLatTuple(location)) {\n    return [normalizeLongitude(location[0]), normalizeLatitude(location[1])];\n  }\n\n  if (isLatLon(location)) {\n    return {\n      lat: normalizeLatitude(location.lat),\n      lon: normalizeLongitude(location.lon)\n    };\n  }\n\n  if (isLatLng(location)) {\n    return {\n      lat: normalizeLatitude(location.lat),\n      lng: normalizeLongitude(location.lng)\n    };\n  }\n\n  if (isLatitudeLongitude(location)) {\n    return {\n      latitude: normalizeLatitude(location.latitude),\n      longitude: normalizeLongitude(location.longitude)\n    };\n  }\n\n  throw new Error('Unknown location format ' + JSON.stringify(location));\n}\n/**\n * Calculate the average of a list with locations\n * @param {Location[]} locations \n * @return {Location} Returns the average location or null when the list is empty\n *                    Location has the same structure as the first location from\n *                    the input array.\n */\n\n\nfunction average(locations) {\n  if (!Array.isArray(locations) || locations.length === 0) {\n    return null;\n  }\n\n  var first = locations[0];\n  var latitude = avg(locations.map(getLatitude));\n  var longitude = avg(locations.map(getLongitude));\n  return createLocation(latitude, longitude, getLocationType(first));\n}\n/**\n * Get the bounding box of a list with locations\n * @param {Locations[]} locations\n * @param {number} [margin]   Optional margin in meters. Zero by default.\n * @return {BoundingBox} Returns a bounding box described by it's top left \n *                       and bottom right location\n */\n\n\nfunction getBoundingBox(locations) {\n  var margin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  if (!Array.isArray(locations) || locations.length === 0) {\n    return {\n      topLeft: null,\n      bottomRight: null\n    };\n  }\n\n  var type = getLocationType(locations[0]);\n  var topLeftLat = Math.max.apply(Math, _toConsumableArray(locations.map(getLatitude)));\n  var topLeftLon = Math.min.apply(Math, _toConsumableArray(locations.map(getLongitude)));\n  var bottomRightLat = Math.min.apply(Math, _toConsumableArray(locations.map(getLatitude)));\n  var bottomRightLon = Math.max.apply(Math, _toConsumableArray(locations.map(getLongitude)));\n  var topLeft = createLocation(topLeftLat, topLeftLon, type);\n  var bottomRight = createLocation(bottomRightLat, bottomRightLon, type);\n\n  if (margin === null || margin === 0) {\n    // no margin\n    return {\n      topLeft: topLeft,\n      bottomRight: bottomRight\n    };\n  } else {\n    // add a margin in meters\n    var distance = Math.SQRT2 * margin;\n    return {\n      topLeft: moveTo(topLeft, {\n        heading: 315,\n        distance: distance\n      }),\n      bottomRight: moveTo(bottomRight, {\n        heading: 135,\n        distance: distance\n      })\n    };\n  }\n}\n/**\n * Calculate the average of a list with numbers\n * @param {number[]} values \n * @return {number}\n */\n\n\nfunction avg(values) {\n  return sum(values) / values.length;\n}\n/**\n * calculate the sum of a list with numbers\n * @param {number[]} values \n * @return {number} Returns the sum\n */\n\n\nfunction sum(values) {\n  return values.reduce(function (a, b) {\n    return a + b;\n  }, 0);\n}","'use strict';\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.string.anchor\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _infact = require('./infact');\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _pin = require('./img/pin.png');\n\nvar _pin2 = _interopRequireDefault(_pin);\n\nvar _pin2x = require('./img/pin@2x.png');\n\nvar _pin2x2 = _interopRequireDefault(_pin2x);\n\nvar _pinHover = require('./img/pin-hover.png');\n\nvar _pinHover2 = _interopRequireDefault(_pinHover);\n\nvar _pinHover2x = require('./img/pin-hover@2x.png');\n\nvar _pinHover2x2 = _interopRequireDefault(_pinHover2x);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar imageOffset = {\n  left: 15,\n  top: 31\n};\n\nvar Marker = function (_Component) {\n  _inherits(Marker, _Component);\n\n  function Marker(props) {\n    _classCallCheck(this, Marker);\n\n    var _this = _possibleConstructorReturn(this, (Marker.__proto__ || Object.getPrototypeOf(Marker)).call(this, props));\n\n    _this.eventParameters = function (event) {\n      return {\n        event: event,\n        anchor: _this.props.anchor,\n        payload: _this.props.payload\n      };\n    };\n\n    _this.handleClick = function () {\n      _this.props.onClick && _this.props.onClick(_this.eventParameters());\n    };\n\n    _this.handleContextMenu = function () {\n      _this.props.onContextMenu && _this.props.onContextMenu(_this.eventParameters());\n    };\n\n    _this.handleMouseOver = function () {\n      _this.props.onMouseOver && _this.props.onMouseOver(_this.eventParameters());\n\n      _this.setState({\n        hover: true\n      });\n    };\n\n    _this.handleMouseOut = function () {\n      _this.props.onMouseOut && _this.props.onMouseOut(_this.eventParameters());\n\n      _this.setState({\n        hover: false\n      });\n    };\n\n    _this.state = {\n      hover: false\n    };\n    return _this;\n  } // what do you expect to get back with the event\n\n\n  _createClass(Marker, [{\n    key: 'isRetina',\n    // controls\n    value: function value() {\n      return typeof window !== 'undefined' && window.devicePixelRatio >= 2;\n    } // modifiers\n\n  }, {\n    key: 'isHover',\n    value: function value() {\n      return typeof this.props.hover === 'boolean' ? this.props.hover : this.state.hover;\n    }\n  }, {\n    key: 'image',\n    value: function value() {\n      return this.isRetina() ? this.isHover() ? _pinHover2x2[\"default\"] : _pin2x2[\"default\"] : this.isHover() ? _pinHover2[\"default\"] : _pin2[\"default\"];\n    } // lifecycle\n\n  }, {\n    key: 'componentDidMount',\n    value: function value() {\n      var images = this.isRetina() ? [_pin2x2[\"default\"], _pinHover2x2[\"default\"]] : [_pin2[\"default\"], _pinHover2[\"default\"]];\n      images.forEach(function (image) {\n        var img = new window.Image();\n        img.src = image;\n      });\n    } // delegators\n\n  }, {\n    key: 'render',\n    // render\n    value: function value() {\n      var _props = this.props,\n          left = _props.left,\n          top = _props.top,\n          onClick = _props.onClick;\n      var style = {\n        position: 'absolute',\n        transform: 'translate(' + (left - imageOffset.left) + 'px, ' + (top - imageOffset.top) + 'px)',\n        cursor: onClick ? 'pointer' : 'default'\n      };\n      return _infact.React.createElement('div', {\n        style: style,\n        className: 'pigeon-click-block',\n        onClick: this.handleClick,\n        onContextMenu: this.handleContextMenu,\n        onMouseOver: this.handleMouseOver,\n        onMouseOut: this.handleMouseOut\n      }, _infact.React.createElement('img', {\n        src: this.image(),\n        width: 29,\n        height: 34,\n        alt: ''\n      }));\n    }\n  }]);\n\n  return Marker;\n}(_infact.Component);\n\nMarker.propTypes = {\n  // input, passed to events\n  anchor: _propTypes2[\"default\"].array.isRequired,\n  payload: _propTypes2[\"default\"].any,\n  // optional modifiers\n  hover: _propTypes2[\"default\"].bool,\n  // callbacks\n  onClick: _propTypes2[\"default\"].func,\n  onContextMenu: _propTypes2[\"default\"].func,\n  onMouseOver: _propTypes2[\"default\"].func,\n  onMouseOut: _propTypes2[\"default\"].func,\n  // pigeon variables\n  left: _propTypes2[\"default\"].number,\n  top: _propTypes2[\"default\"].number,\n  // pigeon functions\n  latLngToPixel: _propTypes2[\"default\"].func,\n  pixelToLatLng: _propTypes2[\"default\"].func\n};\nexports[\"default\"] = Marker;","'use strict';\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _convert = require('./convert');\n\nObject.keys(_convert).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _convert[key];\n    }\n  });\n});\n\nvar _geo = require('./geo');\n\nObject.keys(_geo).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _geo[key];\n    }\n  });\n});\n\nvar _cpa = require('./cpa');\n\nObject.defineProperty(exports, 'cpa', {\n  enumerable: true,\n  get: function get() {\n    return _cpa.cpa;\n  }\n});","module.exports = function (point, vs) {\n  // ray-casting algorithm based on\n  // http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\n  var x = point[0],\n      y = point[1];\n  var inside = false;\n\n  for (var i = 0, j = vs.length - 1; i < vs.length; j = i++) {\n    var xi = vs[i][0],\n        yi = vs[i][1];\n    var xj = vs[j][0],\n        yj = vs[j][1];\n    var intersect = yi > y != yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) inside = !inside;\n  }\n\n  return inside;\n};","'use strict'; // // infact = inferno + react\n\nexports.React = require('react');\nexports.ReactDOM = require('react-dom');\nexports.Component = exports.React.Component;","'use strict';\n// B.2.3.2 String.prototype.anchor(name)\nrequire('./_string-html')('anchor', function (createHTML) {\n  return function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  };\n});\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","'use strict';\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.string.anchor\");\n\nrequire(\"core-js/modules/es6.math.log2\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React = require('react');\n\nvar React__default = _interopDefault(React);\n\nvar PropTypes = _interopDefault(require('prop-types'));\n\nfunction parentPosition(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    x: rect.left,\n    y: rect.top\n  };\n}\n\nfunction parentHasClass(element, className) {\n  while (element) {\n    if (element.classList && element.classList.contains(className)) {\n      return true;\n    }\n\n    element = element.offsetParent;\n  }\n\n  return false;\n}\n\nfunction debounce(func, wait) {\n  var timeout = void 0;\n  return function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var context = this;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      return func.apply(context, args);\n    }, wait);\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar ANIMATION_TIME = 300;\nvar DIAGONAL_THROW_TIME = 1500;\nvar SCROLL_PIXELS_FOR_ZOOM_LEVEL = 150;\nvar MIN_DRAG_FOR_THROW = 40;\nvar CLICK_TOLERANCE = 2;\nvar DOUBLE_CLICK_DELAY = 300;\nvar DEBOUNCE_DELAY = 60;\nvar PINCH_RELEASE_THROW_DELAY = 300;\nvar WARNING_DISPLAY_TIMEOUT = 300;\n\nvar NOOP = function NOOP() {};\n\nfunction stamenToner(x, y, z, dpr) {\n  return 'https://stamen-tiles.a.ssl.fastly.net/toner/' + z + '/' + x + '/' + y + (dpr >= 2 ? '@2x' : '') + '.png';\n} // https://wiki.openstreetmap.org/wiki/Slippy_map_tilenames\n\n\nvar lng2tile = function lng2tile(lon, zoom) {\n  return (lon + 180) / 360 * Math.pow(2, zoom);\n};\n\nvar lat2tile = function lat2tile(lat, zoom) {\n  return (1 - Math.log(Math.tan(lat * Math.PI / 180) + 1 / Math.cos(lat * Math.PI / 180)) / Math.PI) / 2 * Math.pow(2, zoom);\n};\n\nfunction tile2lng(x, z) {\n  return x / Math.pow(2, z) * 360 - 180;\n}\n\nfunction tile2lat(y, z) {\n  var n = Math.PI - 2 * Math.PI * y / Math.pow(2, z);\n  return 180 / Math.PI * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\n}\n\nfunction getMousePixel(dom, event) {\n  var parent = parentPosition(dom);\n  return [event.clientX - parent.x, event.clientY - parent.y];\n}\n\nfunction easeOutQuad(t) {\n  return t * (2 - t);\n} // minLat, maxLat, minLng, maxLng\n\n\nvar absoluteMinMax = [tile2lat(Math.pow(2, 10), 10), tile2lat(0, 10), tile2lng(0, 10), tile2lng(Math.pow(2, 10), 10)];\nvar hasWindow = typeof window !== 'undefined';\nvar performanceNow = hasWindow && window.performance && window.performance.now ? function () {\n  return window.performance.now();\n} : function () {\n  var timeStart = new Date().getTime();\n  return function () {\n    return new Date().getTime() - timeStart;\n  };\n}();\nvar requestAnimationFrame = hasWindow ? window.requestAnimationFrame || window.setTimeout : function (callback) {\n  return callback();\n};\nvar cancelAnimationFrame = hasWindow ? window.cancelAnimationFrame || window.clearTimeout : function () {};\n\nfunction srcSet(dprs, url, x, y, z) {\n  if (!dprs || dprs.length === 0) {\n    return '';\n  }\n\n  return dprs.map(function (dpr) {\n    return url(x, y, z, dpr) + (dpr === 1 ? '' : ' ' + dpr + 'x');\n  }).join(', ');\n}\n\nvar Map = function (_Component) {\n  _inherits(Map, _Component);\n\n  function Map(props) {\n    _classCallCheck(this, Map);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.updateWidthHeight = function () {\n      if (_this._containerRef) {\n        var rect = _this._containerRef.getBoundingClientRect();\n\n        if (rect && rect.width > 0 && rect.height > 0) {\n          _this.setState({\n            width: rect.width,\n            height: rect.height\n          });\n\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    _this.wa = function (e, t, o) {\n      return window.addEventListener(e, t, o);\n    };\n\n    _this.wr = function (e, t) {\n      return window.removeEventListener(e, t);\n    };\n\n    _this.bindMouseEvents = function () {\n      _this.wa('mousedown', _this.handleMouseDown);\n\n      _this.wa('mouseup', _this.handleMouseUp);\n\n      _this.wa('mousemove', _this.handleMouseMove);\n    };\n\n    _this.bindTouchEvents = function () {\n      _this.wa('touchstart', _this.handleTouchStart, {\n        passive: false\n      });\n\n      _this.wa('touchmove', _this.handleTouchMove, {\n        passive: false\n      });\n\n      _this.wa('touchend', _this.handleTouchEnd, {\n        passive: false\n      });\n    };\n\n    _this.unbindMouseEvents = function () {\n      _this.wr('mousedown', _this.handleMouseDown);\n\n      _this.wr('mouseup', _this.handleMouseUp);\n\n      _this.wr('mousemove', _this.handleMouseMove);\n    };\n\n    _this.unbindTouchEvents = function () {\n      _this.wr('touchstart', _this.handleTouchStart);\n\n      _this.wr('touchmove', _this.handleTouchMove);\n\n      _this.wr('touchend', _this.handleTouchEnd);\n    };\n\n    _this.bindResizeEvent = function () {\n      _this.wa('resize', _this.updateWidthHeight);\n    };\n\n    _this.unbindResizeEvent = function () {\n      _this.wr('resize', _this.updateWidthHeight);\n    };\n\n    _this.bindWheelEvent = function () {\n      if (_this._containerRef) {\n        _this._containerRef.addEventListener('wheel', _this.handleWheel, {\n          passive: false\n        });\n      }\n    };\n\n    _this.unbindWheelEvent = function () {\n      if (_this._containerRef) {\n        _this._containerRef.removeEventListener('wheel', _this.handleWheel);\n      }\n    };\n\n    _this.setCenterZoomTarget = function (center, zoom) {\n      var fromProps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var zoomAround = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n      var animationDuration = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : ANIMATION_TIME;\n\n      if (_this.props.animate && (!fromProps || _this.distanceInScreens(center, zoom, _this.state.center, _this.state.zoom) <= _this.props.animateMaxScreens)) {\n        if (_this._isAnimating) {\n          cancelAnimationFrame(_this._animFrame);\n\n          var _this$animationStep = _this.animationStep(performanceNow()),\n              centerStep = _this$animationStep.centerStep,\n              zoomStep = _this$animationStep.zoomStep;\n\n          _this._centerStart = centerStep;\n          _this._zoomStart = zoomStep;\n        } else {\n          _this._isAnimating = true;\n          _this._centerStart = _this.limitCenterAtZoom([_this._lastCenter[0], _this._lastCenter[1]], _this._lastZoom);\n          _this._zoomStart = _this._lastZoom;\n\n          _this.onAnimationStart();\n        }\n\n        _this._animationStart = performanceNow();\n        _this._animationEnd = _this._animationStart + animationDuration;\n\n        if (zoomAround) {\n          _this._zoomAround = zoomAround;\n          _this._centerTarget = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n        } else {\n          _this._zoomAround = null;\n          _this._centerTarget = center;\n        }\n\n        _this._zoomTarget = zoom;\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      } else {\n        _this.stopAnimating();\n\n        if (zoomAround) {\n          var _center = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n\n          _this.setCenterZoom(_center, zoom, fromProps);\n        } else {\n          _this.setCenterZoom(center, zoom, fromProps);\n        }\n      }\n    };\n\n    _this.distanceInScreens = function (centerTarget, zoomTarget, center, zoom) {\n      var _this$state = _this.state,\n          width = _this$state.width,\n          height = _this$state.height; // distance in pixels at the current zoom level\n\n      var l1 = _this.latLngToPixel(center, center, zoom);\n\n      var l2 = _this.latLngToPixel(centerTarget, center, zoom); // distance in pixels at the target zoom level (could be the same)\n\n\n      var z1 = _this.latLngToPixel(center, center, zoomTarget);\n\n      var z2 = _this.latLngToPixel(centerTarget, center, zoomTarget); // take the average between the two and divide by width or height to get the distance multiplier in screens\n\n\n      var w = (Math.abs(l1[0] - l2[0]) + Math.abs(z1[0] - z2[0])) / 2 / width;\n      var h = (Math.abs(l1[1] - l2[1]) + Math.abs(z1[1] - z2[1])) / 2 / height; // return the distance\n\n      return Math.sqrt(w * w + h * h);\n    };\n\n    _this.animationStep = function (timestamp) {\n      var length = _this._animationEnd - _this._animationStart;\n      var progress = Math.max(timestamp - _this._animationStart, 0);\n      var percentage = easeOutQuad(progress / length);\n      var zoomDiff = (_this._zoomTarget - _this._zoomStart) * percentage;\n      var zoomStep = _this._zoomStart + zoomDiff;\n\n      if (_this._zoomAround) {\n        var centerStep = _this.calculateZoomCenter(_this._centerStart, _this._zoomAround, _this._zoomStart, zoomStep);\n\n        return {\n          centerStep: centerStep,\n          zoomStep: zoomStep\n        };\n      } else {\n        var _centerStep = [_this._centerStart[0] + (_this._centerTarget[0] - _this._centerStart[0]) * percentage, _this._centerStart[1] + (_this._centerTarget[1] - _this._centerStart[1]) * percentage];\n        return {\n          centerStep: _centerStep,\n          zoomStep: zoomStep\n        };\n      }\n    };\n\n    _this.animate = function (timestamp) {\n      if (timestamp >= _this._animationEnd) {\n        _this._isAnimating = false;\n\n        _this.setCenterZoom(_this._centerTarget, _this._zoomTarget, true);\n\n        _this.onAnimationStop();\n      } else {\n        var _this$animationStep2 = _this.animationStep(timestamp),\n            centerStep = _this$animationStep2.centerStep,\n            zoomStep = _this$animationStep2.zoomStep;\n\n        _this.setCenterZoom(centerStep, zoomStep);\n\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      }\n    };\n\n    _this.stopAnimating = function () {\n      if (_this._isAnimating) {\n        _this._isAnimating = false;\n\n        _this.onAnimationStop();\n\n        cancelAnimationFrame(_this._animFrame);\n      }\n    };\n\n    _this.limitCenterAtZoom = function (center, zoom) {\n      // [minLat, maxLat, minLng, maxLng]\n      var minMax = _this.getBoundsMinMax(zoom || _this.state.zoom);\n\n      return [Math.max(Math.min(isNaN(center[0]) ? _this.state.center[0] : center[0], minMax[1]), minMax[0]), Math.max(Math.min(isNaN(center[1]) ? _this.state.center[1] : center[1], minMax[3]), minMax[2])];\n    };\n\n    _this.onAnimationStart = function () {\n      _this.props.onAnimationStart && _this.props.onAnimationStart();\n    };\n\n    _this.onAnimationStop = function () {\n      _this.props.onAnimationStop && _this.props.onAnimationStop();\n    };\n\n    _this.setCenterZoom = function (center, zoom) {\n      var animationEnded = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var limitedCenter = _this.limitCenterAtZoom(center, zoom);\n\n      if (Math.round(_this.state.zoom) !== Math.round(zoom)) {\n        var tileValues = _this.tileValues(_this.state);\n\n        var nextValues = _this.tileValues({\n          center: limitedCenter,\n          zoom: zoom,\n          width: _this.state.width,\n          height: _this.state.height\n        });\n\n        var oldTiles = _this.state.oldTiles;\n\n        _this.setState({\n          oldTiles: oldTiles.filter(function (o) {\n            return o.roundedZoom !== tileValues.roundedZoom;\n          }).concat(tileValues)\n        }, NOOP);\n\n        var loadTracker = {};\n\n        for (var x = nextValues.tileMinX; x <= nextValues.tileMaxX; x++) {\n          for (var y = nextValues.tileMinY; y <= nextValues.tileMaxY; y++) {\n            var key = x + '-' + y + '-' + nextValues.roundedZoom;\n            loadTracker[key] = false;\n          }\n        }\n\n        _this._loadTracker = loadTracker;\n      }\n\n      _this.setState({\n        center: limitedCenter,\n        zoom: zoom\n      }, NOOP);\n\n      var maybeZoom = _this.props.zoom ? _this.props.zoom : _this._lastZoom;\n      var maybeCenter = _this.props.center ? _this.props.center : _this._lastCenter;\n\n      if (animationEnded || Math.abs(maybeZoom - zoom) > 0.001 || Math.abs(maybeCenter[0] - limitedCenter[0]) > 0.00001 || Math.abs(maybeCenter[1] - limitedCenter[1]) > 0.00001) {\n        _this._lastZoom = zoom;\n        _this._lastCenter = [].concat(limitedCenter);\n\n        _this.syncToProps(limitedCenter, zoom);\n      }\n    };\n\n    _this.getBoundsMinMax = function (zoom) {\n      if (_this.props.limitBounds === 'center') {\n        return absoluteMinMax;\n      }\n\n      var _this$state2 = _this.state,\n          width = _this$state2.width,\n          height = _this$state2.height;\n\n      if (_this._minMaxCache && _this._minMaxCache[0] === zoom && _this._minMaxCache[1] === width && _this._minMaxCache[2] === height) {\n        return _this._minMaxCache[3];\n      }\n\n      var pixelsAtZoom = Math.pow(2, zoom) * 256;\n      var minLng = width > pixelsAtZoom ? 0 : tile2lng(width / 512, zoom); // x\n\n      var minLat = height > pixelsAtZoom ? 0 : tile2lat(Math.pow(2, zoom) - height / 512, zoom); // y\n\n      var maxLng = width > pixelsAtZoom ? 0 : tile2lng(Math.pow(2, zoom) - width / 512, zoom); // x\n\n      var maxLat = height > pixelsAtZoom ? 0 : tile2lat(height / 512, zoom); // y\n\n      var minMax = [minLat, maxLat, minLng, maxLng];\n      _this._minMaxCache = [zoom, width, height, minMax];\n      return minMax;\n    };\n\n    _this.imageLoaded = function (key) {\n      if (_this._loadTracker && key in _this._loadTracker) {\n        _this._loadTracker[key] = true;\n        var unloadedCount = Object.keys(_this._loadTracker).filter(function (k) {\n          return !_this._loadTracker[k];\n        }).length;\n\n        if (unloadedCount === 0) {\n          _this.setState({\n            oldTiles: []\n          }, NOOP);\n        }\n      }\n    };\n\n    _this.handleTouchStart = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      if (event.target && parentHasClass(event.target, 'pigeon-drag-block')) {\n        return;\n      }\n\n      if (event.touches.length === 1) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n\n        if (_this.coordsInside(pixel)) {\n          _this._touchStartPixel = [pixel];\n\n          if (!_this.props.twoFingerDrag) {\n            _this.stopAnimating();\n\n            if (_this._lastTap && performanceNow() - _this._lastTap < DOUBLE_CLICK_DELAY) {\n              event.preventDefault();\n\n              var latLngNow = _this.pixelToLatLng(_this._touchStartPixel[0]);\n\n              _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n            } else {\n              _this._lastTap = performanceNow();\n\n              _this.trackMoveEvents(pixel);\n            }\n          }\n        } // added second finger and first one was in the area\n\n      } else if (event.touches.length === 2 && _this._touchStartPixel) {\n        event.preventDefault();\n\n        _this.stopTrackingMoveEvents();\n\n        if (_this.state.pixelDelta || _this.state.zoomDelta) {\n          _this.sendDeltaChange();\n        }\n\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        _this._touchStartPixel = [t1, t2];\n        _this._touchStartMidPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        _this._touchStartDistance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n      }\n    };\n\n    _this.handleTouchMove = function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n\n      if (event.touches.length === 1 && _this._touchStartPixel) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n\n        if (_this.props.twoFingerDrag) {\n          if (_this.coordsInside(pixel)) {\n            _this.showWarning('fingers');\n          }\n        } else {\n          event.preventDefault();\n\n          _this.trackMoveEvents(pixel);\n\n          _this.setState({\n            pixelDelta: [pixel[0] - _this._touchStartPixel[0][0], pixel[1] - _this._touchStartPixel[0][1]]\n          }, NOOP);\n        }\n      } else if (event.touches.length === 2 && _this._touchStartPixel) {\n        var _this$state3 = _this.state,\n            width = _this$state3.width,\n            height = _this$state3.height,\n            zoom = _this$state3.zoom;\n        event.preventDefault();\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        var midPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        var midPointDiff = [midPoint[0] - _this._touchStartMidPoint[0], midPoint[1] - _this._touchStartMidPoint[1]];\n        var distance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n        var zoomDelta = Math.max(_this.props.minZoom, Math.min(_this.props.maxZoom, zoom + Math.log2(distance / _this._touchStartDistance))) - zoom;\n        var scale = Math.pow(2, zoomDelta);\n        var centerDiffDiff = [(width / 2 - midPoint[0]) * (scale - 1), (height / 2 - midPoint[1]) * (scale - 1)];\n\n        _this.setState({\n          zoomDelta: zoomDelta,\n          pixelDelta: [centerDiffDiff[0] + midPointDiff[0] * scale, centerDiffDiff[1] + midPointDiff[1] * scale]\n        }, NOOP);\n      }\n    };\n\n    _this.handleTouchEnd = function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n\n      if (_this._touchStartPixel) {\n        var _this$props = _this.props,\n            zoomSnap = _this$props.zoomSnap,\n            twoFingerDrag = _this$props.twoFingerDrag,\n            minZoom = _this$props.minZoom,\n            maxZoom = _this$props.maxZoom;\n        var zoomDelta = _this.state.zoomDelta;\n\n        var _this$sendDeltaChange = _this.sendDeltaChange(),\n            center = _this$sendDeltaChange.center,\n            zoom = _this$sendDeltaChange.zoom;\n\n        if (event.touches.length === 0) {\n          if (twoFingerDrag) {\n            _this.clearWarning();\n          } else {\n            // if the click started and ended at about\n            // the same place we can view it as a click\n            // and not prevent default behavior.\n            var oldTouchPixel = _this._touchStartPixel[0];\n            var newTouchPixel = getMousePixel(_this._containerRef, event.changedTouches[0]);\n\n            if (Math.abs(oldTouchPixel[0] - newTouchPixel[0]) > CLICK_TOLERANCE || Math.abs(oldTouchPixel[1] - newTouchPixel[1]) > CLICK_TOLERANCE) {\n              // don't throw immediately after releasing the second finger\n              if (!_this._secondTouchEnd || performanceNow() - _this._secondTouchEnd > PINCH_RELEASE_THROW_DELAY) {\n                event.preventDefault();\n\n                _this.throwAfterMoving(newTouchPixel, center, zoom);\n              }\n            }\n\n            _this._touchStartPixel = null;\n            _this._secondTouchEnd = null;\n          }\n        } else if (event.touches.length === 1) {\n          event.preventDefault();\n          var touch = getMousePixel(_this._containerRef, event.touches[0]);\n          _this._secondTouchEnd = performanceNow();\n          _this._touchStartPixel = [touch];\n\n          _this.trackMoveEvents(touch);\n\n          if (zoomSnap) {\n            // if somehow we have no midpoint for the two finger touch, just take the center of the map\n            var latLng = _this._touchStartMidPoint ? _this.pixelToLatLng(_this._touchStartMidPoint) : _this.state.center;\n            var zoomTarget = void 0; // do not zoom up/down if we must drag with 2 fingers and didn't change the zoom level\n\n            if (twoFingerDrag && Math.round(_this.state.zoom) === Math.round(_this.state.zoom + zoomDelta)) {\n              zoomTarget = Math.round(_this.state.zoom);\n            } else {\n              zoomTarget = zoomDelta > 0 ? Math.ceil(_this.state.zoom) : Math.floor(_this.state.zoom);\n            }\n\n            var _zoom = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n\n            _this.setCenterZoomTarget(latLng, _zoom, false, latLng);\n          }\n        }\n      }\n    };\n\n    _this.handleMouseDown = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      var pixel = getMousePixel(_this._containerRef, event);\n\n      if (event.button === 0 && (!event.target || !parentHasClass(event.target, 'pigeon-drag-block')) && _this.coordsInside(pixel)) {\n        _this.stopAnimating();\n\n        event.preventDefault();\n\n        if (_this._lastClick && performanceNow() - _this._lastClick < DOUBLE_CLICK_DELAY) {\n          var latLngNow = _this.pixelToLatLng(_this._mousePosition || pixel);\n\n          _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n        } else {\n          _this._lastClick = performanceNow();\n          _this._mouseDown = true;\n          _this._dragStart = pixel;\n\n          _this.trackMoveEvents(pixel);\n        }\n      }\n    };\n\n    _this.handleMouseMove = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n\n      if (_this._mouseDown && _this._dragStart) {\n        _this.trackMoveEvents(_this._mousePosition);\n\n        _this.setState({\n          pixelDelta: [_this._mousePosition[0] - _this._dragStart[0], _this._mousePosition[1] - _this._dragStart[1]]\n        }, NOOP);\n      }\n    };\n\n    _this.handleMouseUp = function (event) {\n      if (!_this._containerRef) {\n        _this._mouseDown = false;\n        return;\n      }\n\n      var pixelDelta = _this.state.pixelDelta;\n\n      if (_this._mouseDown) {\n        _this._mouseDown = false;\n        var pixel = getMousePixel(_this._containerRef, event);\n\n        if (_this.props.onClick && (!event.target || !parentHasClass(event.target, 'pigeon-click-block')) && (!pixelDelta || Math.abs(pixelDelta[0]) + Math.abs(pixelDelta[1]) <= CLICK_TOLERANCE)) {\n          var latLng = _this.pixelToLatLng(pixel);\n\n          _this.props.onClick({\n            event: event,\n            latLng: latLng,\n            pixel: pixel\n          });\n\n          _this.setState({\n            pixelDelta: null\n          }, NOOP);\n        } else {\n          var _this$sendDeltaChange2 = _this.sendDeltaChange(),\n              center = _this$sendDeltaChange2.center,\n              zoom = _this$sendDeltaChange2.zoom;\n\n          _this.throwAfterMoving(pixel, center, zoom);\n        }\n      }\n    };\n\n    _this.stopTrackingMoveEvents = function () {\n      _this._moveEvents = [];\n    };\n\n    _this.trackMoveEvents = function (coords) {\n      var timestamp = performanceNow();\n\n      if (_this._moveEvents.length === 0 || timestamp - _this._moveEvents[_this._moveEvents.length - 1].timestamp > 40) {\n        _this._moveEvents.push({\n          timestamp: timestamp,\n          coords: coords\n        });\n\n        if (_this._moveEvents.length > 2) {\n          _this._moveEvents.shift();\n        }\n      }\n    };\n\n    _this.throwAfterMoving = function (coords, center, zoom) {\n      var _this$state4 = _this.state,\n          width = _this$state4.width,\n          height = _this$state4.height;\n      var animate = _this.props.animate;\n      var timestamp = performanceNow();\n\n      var lastEvent = _this._moveEvents.shift();\n\n      if (lastEvent && animate) {\n        var deltaMs = Math.max(timestamp - lastEvent.timestamp, 1);\n        var delta = [(coords[0] - lastEvent.coords[0]) / deltaMs * 120, (coords[1] - lastEvent.coords[1]) / deltaMs * 120];\n        var distance = Math.sqrt(delta[0] * delta[0] + delta[1] * delta[1]);\n\n        if (distance > MIN_DRAG_FOR_THROW) {\n          var diagonal = Math.sqrt(width * width + height * height);\n          var throwTime = DIAGONAL_THROW_TIME * distance / diagonal;\n          var lng = tile2lng(lng2tile(center[1], zoom) - delta[0] / 256.0, zoom);\n          var lat = tile2lat(lat2tile(center[0], zoom) - delta[1] / 256.0, zoom);\n\n          _this.setCenterZoomTarget([lat, lng], zoom, false, null, throwTime);\n        }\n      }\n\n      _this.stopTrackingMoveEvents();\n    };\n\n    _this.sendDeltaChange = function () {\n      var _this$state5 = _this.state,\n          center = _this$state5.center,\n          zoom = _this$state5.zoom,\n          pixelDelta = _this$state5.pixelDelta,\n          zoomDelta = _this$state5.zoomDelta;\n      var lat = center[0];\n      var lng = center[1];\n\n      if (pixelDelta || zoomDelta !== 0) {\n        lng = tile2lng(lng2tile(center[1], zoom + zoomDelta) - (pixelDelta ? pixelDelta[0] / 256.0 : 0), zoom + zoomDelta);\n        lat = tile2lat(lat2tile(center[0], zoom + zoomDelta) - (pixelDelta ? pixelDelta[1] / 256.0 : 0), zoom + zoomDelta);\n\n        _this.setCenterZoom([lat, lng], zoom + zoomDelta);\n      }\n\n      _this.setState({\n        pixelDelta: null,\n        zoomDelta: 0\n      }, NOOP);\n\n      return {\n        center: _this.limitCenterAtZoom([lat, lng], zoom + zoomDelta),\n        zoom: zoom + zoomDelta\n      };\n    };\n\n    _this.getBounds = function () {\n      var center = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.center;\n      var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.zoomPlusDelta();\n      var _this$state6 = _this.state,\n          width = _this$state6.width,\n          height = _this$state6.height;\n      return {\n        ne: _this.pixelToLatLng([width - 1, 0], center, zoom),\n        sw: _this.pixelToLatLng([0, height - 1], center, zoom)\n      };\n    };\n\n    _this.syncToProps = function () {\n      var center = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.center;\n      var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.state.zoom;\n      var onBoundsChanged = _this.props.onBoundsChanged;\n\n      if (onBoundsChanged) {\n        var bounds = _this.getBounds(center, zoom);\n\n        onBoundsChanged({\n          center: center,\n          zoom: zoom,\n          bounds: bounds,\n          initial: !_this._boundsSynced\n        });\n        _this._boundsSynced = true;\n      }\n    };\n\n    _this.handleWheel = function (event) {\n      var _this$props2 = _this.props,\n          mouseEvents = _this$props2.mouseEvents,\n          metaWheelZoom = _this$props2.metaWheelZoom,\n          zoomSnap = _this$props2.zoomSnap,\n          animate = _this$props2.animate;\n\n      if (!mouseEvents) {\n        return;\n      }\n\n      if (!metaWheelZoom || event.metaKey) {\n        event.preventDefault();\n        var addToZoom = -event.deltaY / SCROLL_PIXELS_FOR_ZOOM_LEVEL;\n\n        if (!zoomSnap && _this._zoomTarget) {\n          var stillToAdd = _this._zoomTarget - _this.state.zoom;\n\n          _this.zoomAroundMouse(addToZoom + stillToAdd, event);\n        } else {\n          if (animate) {\n            _this.zoomAroundMouse(addToZoom, event);\n          } else {\n            if (!_this._lastWheel || performanceNow() - _this._lastWheel > ANIMATION_TIME) {\n              _this._lastWheel = performanceNow();\n\n              _this.zoomAroundMouse(addToZoom, event);\n            }\n          }\n        }\n      } else {\n        _this.showWarning('wheel');\n      }\n    };\n\n    _this.showWarning = function (warningType) {\n      if (!_this.state.showWarning || _this.state.warningType !== warningType) {\n        _this.setState({\n          showWarning: true,\n          warningType: warningType\n        });\n      }\n\n      if (_this._warningClearTimeout) {\n        window.clearTimeout(_this._warningClearTimeout);\n      }\n\n      _this._warningClearTimeout = window.setTimeout(_this.clearWarning, WARNING_DISPLAY_TIMEOUT);\n    };\n\n    _this.clearWarning = function () {\n      if (_this.state.showWarning) {\n        _this.setState({\n          showWarning: false\n        });\n      }\n    };\n\n    _this.zoomAroundMouse = function (zoomDiff, event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      var zoom = _this.state.zoom;\n      var _this$props3 = _this.props,\n          minZoom = _this$props3.minZoom,\n          maxZoom = _this$props3.maxZoom,\n          zoomSnap = _this$props3.zoomSnap;\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n\n      if (!_this._mousePosition || zoom === minZoom && zoomDiff < 0 || zoom === maxZoom && zoomDiff > 0) {\n        return;\n      }\n\n      var latLngNow = _this.pixelToLatLng(_this._mousePosition);\n\n      var zoomTarget = zoom + zoomDiff;\n\n      if (zoomSnap) {\n        zoomTarget = zoomDiff < 0 ? Math.floor(zoomTarget) : Math.ceil(zoomTarget);\n      }\n\n      zoomTarget = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n\n      _this.setCenterZoomTarget(null, zoomTarget, false, latLngNow);\n    };\n\n    _this.zoomPlusDelta = function () {\n      return _this.state.zoom + _this.state.zoomDelta;\n    };\n\n    _this.pixelToLatLng = function (pixel) {\n      var center = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.state.center;\n      var zoom = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this.zoomPlusDelta();\n      var _this$state7 = _this.state,\n          width = _this$state7.width,\n          height = _this$state7.height,\n          pixelDelta = _this$state7.pixelDelta;\n      var pointDiff = [(pixel[0] - width / 2 - (pixelDelta ? pixelDelta[0] : 0)) / 256.0, (pixel[1] - height / 2 - (pixelDelta ? pixelDelta[1] : 0)) / 256.0];\n      var tileX = lng2tile(center[1], zoom) + pointDiff[0];\n      var tileY = lat2tile(center[0], zoom) + pointDiff[1];\n      return [Math.max(absoluteMinMax[0], Math.min(absoluteMinMax[1], tile2lat(tileY, zoom))), Math.max(absoluteMinMax[2], Math.min(absoluteMinMax[3], tile2lng(tileX, zoom)))];\n    };\n\n    _this.latLngToPixel = function (latLng) {\n      var center = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.state.center;\n      var zoom = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this.zoomPlusDelta();\n      var _this$state8 = _this.state,\n          width = _this$state8.width,\n          height = _this$state8.height,\n          pixelDelta = _this$state8.pixelDelta;\n      var tileCenterX = lng2tile(center[1], zoom);\n      var tileCenterY = lat2tile(center[0], zoom);\n      var tileX = lng2tile(latLng[1], zoom);\n      var tileY = lat2tile(latLng[0], zoom);\n      return [(tileX - tileCenterX) * 256.0 + width / 2 + (pixelDelta ? pixelDelta[0] : 0), (tileY - tileCenterY) * 256.0 + height / 2 + (pixelDelta ? pixelDelta[1] : 0)];\n    };\n\n    _this.calculateZoomCenter = function (center, coords, oldZoom, newZoom) {\n      var _this$state9 = _this.state,\n          width = _this$state9.width,\n          height = _this$state9.height;\n\n      var pixelBefore = _this.latLngToPixel(coords, center, oldZoom);\n\n      var pixelAfter = _this.latLngToPixel(coords, center, newZoom);\n\n      var newCenter = _this.pixelToLatLng([width / 2 + pixelAfter[0] - pixelBefore[0], height / 2 + pixelAfter[1] - pixelBefore[1]], center, newZoom);\n\n      return _this.limitCenterAtZoom(newCenter, newZoom);\n    };\n\n    _this.setRef = function (dom) {\n      _this._containerRef = dom;\n    };\n\n    _this.syncToProps = debounce(_this.syncToProps, DEBOUNCE_DELAY);\n    _this._mousePosition = null;\n    _this._dragStart = null;\n    _this._mouseDown = false;\n    _this._moveEvents = [];\n    _this._lastClick = null;\n    _this._lastTap = null;\n    _this._touchStartPixel = null;\n    _this._isAnimating = false;\n    _this._animationStart = null;\n    _this._animationEnd = null;\n    _this._centerTarget = null;\n    _this._zoomTarget = null; // When users are using uncontrolled components we have to keep this\n    // so we can know if we should call onBoundsChanged\n\n    _this._lastZoom = props.defaultZoom ? props.defaultZoom : props.zoom;\n    _this._lastCenter = props.defaultCenter ? props.defaultCenter : props.center;\n    _this._boundsSynced = false;\n    _this._minMaxCache = null;\n    _this.state = {\n      zoom: _this._lastZoom,\n      center: _this._lastCenter,\n      width: props.width || props.defaultWidth,\n      height: props.height || props.defaultHeight,\n      zoomDelta: 0,\n      pixelDelta: null,\n      oldTiles: [],\n      showWarning: false,\n      warningType: null\n    };\n    return _this;\n  }\n\n  Map.prototype.componentDidMount = function componentDidMount() {\n    this.props.mouseEvents && this.bindMouseEvents();\n    this.props.touchEvents && this.bindTouchEvents();\n\n    if (!this.props.width || !this.props.height) {\n      // A height:100% container div often results in height=0 being returned on mount.\n      // So ask again once everything is painted.\n      if (!this.updateWidthHeight()) {\n        requestAnimationFrame(this.updateWidthHeight);\n      }\n\n      this.bindResizeEvent();\n      this.bindWheelEvent();\n    }\n\n    this.syncToProps();\n  };\n\n  Map.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.props.mouseEvents && this.unbindMouseEvents();\n    this.props.touchEvents && this.unbindTouchEvents();\n\n    if (!this.props.width || !this.props.height) {\n      this.unbindResizeEvent();\n      this.unbindWheelEvent();\n    }\n  };\n\n  Map.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.props.mouseEvents !== prevProps.mouseEvents) {\n      this.props.mouseEvents ? this.bindMouseEvents() : this.unbindMouseEvents();\n    }\n\n    if (this.props.touchEvents !== prevProps.touchEvents) {\n      this.props.touchEvents ? this.bindTouchEvents() : this.unbindTouchEvents();\n    }\n\n    if (this.props.width && this.props.width !== prevProps.width) {\n      this.setState({\n        width: this.props.width\n      });\n    }\n\n    if (this.props.height && this.props.height !== prevProps.height) {\n      this.setState({\n        height: this.props.height\n      });\n    }\n\n    if (!this.props.center && !this.props.zoom) {\n      // if the user isn't controlling neither zoom nor center we don't have to update.\n      return;\n    }\n\n    if ((!this.props.center || this.props.center[0] === prevProps.center[0] && this.props.center[1] === prevProps.center[1]) && this.props.zoom === prevProps.zoom) {\n      // if the user is controlling either zoom or center but nothing changed\n      // we don't have to update aswell\n      return;\n    }\n\n    var currentCenter = this._isAnimating ? this._centerTarget : this.state.center;\n    var currentZoom = this._isAnimating ? this._zoomTarget : this.state.zoom;\n    var nextCenter = this.props.center || currentCenter; // prevent the rare null errors\n\n    var nextZoom = this.props.zoom || currentZoom;\n\n    if (Math.abs(nextZoom - currentZoom) > 0.001 || Math.abs(nextCenter[0] - currentCenter[0]) > 0.0001 || Math.abs(nextCenter[1] - currentCenter[1]) > 0.0001) {\n      this.setCenterZoomTarget(nextCenter, nextZoom, true);\n    }\n  }; // main logic when changing coordinates\n\n\n  Map.prototype.coordsInside = function coordsInside(pixel) {\n    var _state = this.state,\n        width = _state.width,\n        height = _state.height;\n\n    if (pixel[0] < 0 || pixel[1] < 0 || pixel[0] >= width || pixel[1] >= height) {\n      return false;\n    }\n\n    var parent = this._containerRef;\n    var pos = parentPosition(parent);\n    var element = document.elementFromPoint(pixel[0] + pos.x, pixel[1] + pos.y);\n    return parent === element || parent.contains(element);\n  }; // https://www.bennadel.com/blog/1856-using-jquery-s-animate-step-callback-function-to-create-custom-animations.htm\n  // tools\n  // ref\n  // data to display the tiles\n\n\n  Map.prototype.tileValues = function tileValues(state) {\n    var center = state.center,\n        zoom = state.zoom,\n        pixelDelta = state.pixelDelta,\n        zoomDelta = state.zoomDelta,\n        width = state.width,\n        height = state.height;\n    var roundedZoom = Math.round(zoom + (zoomDelta || 0));\n    var zoomDiff = zoom + (zoomDelta || 0) - roundedZoom;\n    var scale = Math.pow(2, zoomDiff);\n    var scaleWidth = width / scale;\n    var scaleHeight = height / scale;\n    var tileCenterX = lng2tile(center[1], roundedZoom) - (pixelDelta ? pixelDelta[0] / 256.0 / scale : 0);\n    var tileCenterY = lat2tile(center[0], roundedZoom) - (pixelDelta ? pixelDelta[1] / 256.0 / scale : 0);\n    var halfWidth = scaleWidth / 2 / 256.0;\n    var halfHeight = scaleHeight / 2 / 256.0;\n    var tileMinX = Math.floor(tileCenterX - halfWidth);\n    var tileMaxX = Math.floor(tileCenterX + halfWidth);\n    var tileMinY = Math.floor(tileCenterY - halfHeight);\n    var tileMaxY = Math.floor(tileCenterY + halfHeight);\n    return {\n      tileMinX: tileMinX,\n      tileMaxX: tileMaxX,\n      tileMinY: tileMinY,\n      tileMaxY: tileMaxY,\n      tileCenterX: tileCenterX,\n      tileCenterY: tileCenterY,\n      roundedZoom: roundedZoom,\n      zoomDelta: zoomDelta || 0,\n      scaleWidth: scaleWidth,\n      scaleHeight: scaleHeight,\n      scale: scale\n    };\n  }; // display the tiles\n\n\n  Map.prototype.renderTiles = function renderTiles() {\n    var _this2 = this;\n\n    var oldTiles = this.state.oldTiles;\n    var dprs = this.props.dprs;\n    var mapUrl = this.props.provider || stamenToner;\n\n    var _tileValues = this.tileValues(this.state),\n        tileMinX = _tileValues.tileMinX,\n        tileMaxX = _tileValues.tileMaxX,\n        tileMinY = _tileValues.tileMinY,\n        tileMaxY = _tileValues.tileMaxY,\n        tileCenterX = _tileValues.tileCenterX,\n        tileCenterY = _tileValues.tileCenterY,\n        roundedZoom = _tileValues.roundedZoom,\n        scaleWidth = _tileValues.scaleWidth,\n        scaleHeight = _tileValues.scaleHeight,\n        scale = _tileValues.scale;\n\n    var tiles = [];\n\n    for (var i = 0; i < oldTiles.length; i++) {\n      var old = oldTiles[i];\n      var zoomDiff = old.roundedZoom - roundedZoom;\n\n      if (Math.abs(zoomDiff) > 4 || zoomDiff === 0) {\n        continue;\n      }\n\n      var pow = 1 / Math.pow(2, zoomDiff);\n      var xDiff = -(tileMinX - old.tileMinX * pow) * 256;\n      var yDiff = -(tileMinY - old.tileMinY * pow) * 256;\n\n      var _xMin = Math.max(old.tileMinX, 0);\n\n      var _yMin = Math.max(old.tileMinY, 0);\n\n      var _xMax = Math.min(old.tileMaxX, Math.pow(2, old.roundedZoom) - 1);\n\n      var _yMax = Math.min(old.tileMaxY, Math.pow(2, old.roundedZoom) - 1);\n\n      for (var x = _xMin; x <= _xMax; x++) {\n        for (var y = _yMin; y <= _yMax; y++) {\n          tiles.push({\n            key: x + '-' + y + '-' + old.roundedZoom,\n            url: mapUrl(x, y, old.roundedZoom),\n            srcSet: srcSet(dprs, mapUrl, x, y, old.roundedZoom),\n            left: xDiff + (x - old.tileMinX) * 256 * pow,\n            top: yDiff + (y - old.tileMinY) * 256 * pow,\n            width: 256 * pow,\n            height: 256 * pow,\n            active: false\n          });\n        }\n      }\n    }\n\n    var xMin = Math.max(tileMinX, 0);\n    var yMin = Math.max(tileMinY, 0);\n    var xMax = Math.min(tileMaxX, Math.pow(2, roundedZoom) - 1);\n    var yMax = Math.min(tileMaxY, Math.pow(2, roundedZoom) - 1);\n\n    for (var _x13 = xMin; _x13 <= xMax; _x13++) {\n      for (var _y = yMin; _y <= yMax; _y++) {\n        tiles.push({\n          key: _x13 + '-' + _y + '-' + roundedZoom,\n          url: mapUrl(_x13, _y, roundedZoom),\n          srcSet: srcSet(dprs, mapUrl, _x13, _y, roundedZoom),\n          left: (_x13 - tileMinX) * 256,\n          top: (_y - tileMinY) * 256,\n          width: 256,\n          height: 256,\n          active: true\n        });\n      }\n    }\n\n    var boxStyle = {\n      width: scaleWidth,\n      height: scaleHeight,\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      overflow: 'hidden',\n      willChange: 'transform',\n      transform: 'scale(' + scale + ', ' + scale + ')',\n      transformOrigin: 'top left'\n    };\n    var boxClassname = this.props.boxClassname || '';\n    var left = -((tileCenterX - tileMinX) * 256 - scaleWidth / 2);\n    var top = -((tileCenterY - tileMinY) * 256 - scaleHeight / 2);\n    var tilesStyle = {\n      position: 'absolute',\n      width: (tileMaxX - tileMinX + 1) * 256,\n      height: (tileMaxY - tileMinY + 1) * 256,\n      willChange: 'transform',\n      transform: 'translate(' + left + 'px, ' + top + 'px)'\n    };\n    return React__default.createElement('div', {\n      style: boxStyle,\n      className: boxClassname\n    }, React__default.createElement('div', {\n      style: tilesStyle\n    }, tiles.map(function (tile) {\n      return React__default.createElement('img', {\n        key: tile.key,\n        src: tile.url,\n        srcSet: tile.srcSet,\n        width: tile.width,\n        height: tile.height,\n        loading: 'lazy',\n        onLoad: function onLoad() {\n          return _this2.imageLoaded(tile.key);\n        },\n        style: {\n          position: 'absolute',\n          left: tile.left,\n          top: tile.top,\n          willChange: 'transform',\n          transform: tile.transform,\n          transformOrigin: 'top left',\n          opacity: 1\n        }\n      });\n    })));\n  };\n\n  Map.prototype.renderOverlays = function renderOverlays() {\n    var _this3 = this;\n\n    var _state2 = this.state,\n        width = _state2.width,\n        height = _state2.height,\n        center = _state2.center;\n    var mapState = {\n      bounds: this.getBounds(),\n      zoom: this.zoomPlusDelta(),\n      center: center,\n      width: width,\n      height: height\n    };\n    var childrenWithProps = React__default.Children.map(this.props.children, function (child) {\n      if (!child) {\n        return null;\n      }\n\n      if (typeof child.type === 'string') {\n        return child;\n      }\n\n      var _child$props = child.props,\n          anchor = _child$props.anchor,\n          position = _child$props.position,\n          offset = _child$props.offset;\n\n      var c = _this3.latLngToPixel(anchor || position || center);\n\n      return React__default.cloneElement(child, {\n        left: c[0] - (offset ? offset[0] : 0),\n        top: c[1] - (offset ? offset[1] : 0),\n        latLngToPixel: _this3.latLngToPixel,\n        pixelToLatLng: _this3.pixelToLatLng,\n        mapState: mapState\n      });\n    });\n    var childrenStyle = {\n      position: 'absolute',\n      width: width,\n      height: height,\n      top: 0,\n      left: 0\n    };\n    return React__default.createElement('div', {\n      style: childrenStyle\n    }, childrenWithProps);\n  };\n\n  Map.prototype.renderAttribution = function renderAttribution() {\n    var _props = this.props,\n        attribution = _props.attribution,\n        attributionPrefix = _props.attributionPrefix;\n\n    if (attribution === false) {\n      return null;\n    }\n\n    var style = {\n      position: 'absolute',\n      bottom: 0,\n      right: 0,\n      fontSize: '11px',\n      padding: '2px 5px',\n      background: 'rgba(255, 255, 255, 0.7)',\n      fontFamily: \"'Helvetica Neue', Helvetica, Arial, sans-serif\",\n      color: '#333'\n    };\n    var linkStyle = {\n      color: '#0078A8',\n      textDecoration: 'none'\n    };\n    return React__default.createElement('div', {\n      key: 'attr',\n      className: 'pigeon-attribution',\n      style: style\n    }, attributionPrefix === false ? null : React__default.createElement('span', null, attributionPrefix || React__default.createElement('a', {\n      href: 'https://pigeon-maps.js.org/',\n      style: linkStyle\n    }, 'Pigeon'), ' | '), attribution || React__default.createElement('span', null, '  ', React__default.createElement('a', {\n      href: 'https://www.openstreetmap.org/copyright',\n      style: linkStyle\n    }, 'OpenStreetMap'), ' contributors'));\n  };\n\n  Map.prototype.renderWarning = function renderWarning() {\n    var _props2 = this.props,\n        metaWheelZoom = _props2.metaWheelZoom,\n        metaWheelZoomWarning = _props2.metaWheelZoomWarning,\n        twoFingerDrag = _props2.twoFingerDrag,\n        twoFingerDragWarning = _props2.twoFingerDragWarning,\n        warningZIndex = _props2.warningZIndex;\n    var _state3 = this.state,\n        showWarning = _state3.showWarning,\n        warningType = _state3.warningType,\n        width = _state3.width,\n        height = _state3.height;\n\n    if (metaWheelZoom && metaWheelZoomWarning || twoFingerDrag && twoFingerDragWarning) {\n      var style = {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: width,\n        height: height,\n        overflow: 'hidden',\n        pointerEvents: 'none',\n        opacity: showWarning ? 100 : 0,\n        transition: 'opacity 300ms',\n        background: 'rgba(0,0,0,0.5)',\n        color: '#fff',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        fontSize: 22,\n        fontFamily: '\"Arial\", sans-serif',\n        textAlign: 'center',\n        zIndex: warningZIndex\n      };\n      var meta = typeof window !== 'undefined' && window.navigator && window.navigator.platform.toUpperCase().indexOf('MAC') >= 0 ? '' : '';\n      var warningText = warningType === 'fingers' ? twoFingerDragWarning : metaWheelZoomWarning;\n      return React__default.createElement('div', {\n        style: style\n      }, warningText.replace('META', meta));\n    } else {\n      return null;\n    }\n  };\n\n  Map.prototype.render = function render() {\n    var _props3 = this.props,\n        touchEvents = _props3.touchEvents,\n        twoFingerDrag = _props3.twoFingerDrag;\n    var _state4 = this.state,\n        width = _state4.width,\n        height = _state4.height;\n    var containerStyle = {\n      width: this.props.width ? width : '100%',\n      height: this.props.height ? height : '100%',\n      position: 'relative',\n      display: 'inline-block',\n      overflow: 'hidden',\n      background: '#dddddd',\n      touchAction: touchEvents ? twoFingerDrag ? 'pan-x pan-y' : 'none' : 'auto'\n    };\n    var hasSize = !!(width && height);\n    return React__default.createElement('div', {\n      style: containerStyle,\n      ref: this.setRef\n    }, hasSize && this.renderTiles(), hasSize && this.renderOverlays(), hasSize && this.renderAttribution(), hasSize && this.renderWarning());\n  };\n\n  return Map;\n}(React.Component);\n\nMap.defaultProps = {\n  animate: true,\n  metaWheelZoom: false,\n  metaWheelZoomWarning: 'Use META+wheel to zoom!',\n  twoFingerDrag: false,\n  twoFingerDragWarning: 'Use two fingers to move the map',\n  zoomSnap: true,\n  mouseEvents: true,\n  touchEvents: true,\n  warningZIndex: 100,\n  animateMaxScreens: 5,\n  minZoom: 1,\n  maxZoom: 18,\n  limitBounds: 'center',\n  dprs: []\n};\nprocess.env.NODE_ENV !== \"production\" ? Map.propTypes = {\n  center: PropTypes.array,\n  defaultCenter: PropTypes.array,\n  zoom: PropTypes.number,\n  defaultZoom: PropTypes.number,\n  width: PropTypes.number,\n  defaultWidth: PropTypes.number,\n  height: PropTypes.number,\n  defaultHeight: PropTypes.number,\n  provider: PropTypes.func,\n  dprs: PropTypes.array,\n  children: PropTypes.node,\n  animate: PropTypes.bool,\n  animateMaxScreens: PropTypes.number,\n  minZoom: PropTypes.number,\n  maxZoom: PropTypes.number,\n  metaWheelZoom: PropTypes.bool,\n  metaWheelZoomWarning: PropTypes.string,\n  twoFingerDrag: PropTypes.bool,\n  twoFingerDragWarning: PropTypes.string,\n  warningZIndex: PropTypes.number,\n  attribution: PropTypes.any,\n  attributionPrefix: PropTypes.any,\n  zoomSnap: PropTypes.bool,\n  mouseEvents: PropTypes.bool,\n  touchEvents: PropTypes.bool,\n  onClick: PropTypes.func,\n  onBoundsChanged: PropTypes.func,\n  onAnimationStart: PropTypes.func,\n  onAnimationStop: PropTypes.func,\n  // will be set to \"edge\" from v0.12 onward, defaulted to \"center\" before\n  limitBounds: PropTypes.oneOf(['center', 'edge'])\n} : void 0;\nmodule.exports = Map;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAABECAYAAADQkyaZAAAEnklEQVR4AWIY9mAUjIJRMAr+/fsnAqDOrBUjOYIAml5uyo2fcqnZqdn/oOiYmZmZmUGsZWZmRjEE5WrjqD27nhpQj4J3IHVV9dvGnUG+QNYj+5BBCef++vkPyMerUe475CDiR4BAHrmI/IZ8YFa5z5CtnJwWppAdyFqzCK5BBpAFBAzihFBhVhyJ9evk3NISJJuTYMvVYTRdgXuB7D+8jpeA/Txc7UB3bkGJ8AYRkhv6yXlKLbjhTcORiYhiLrqSwD6M2vRcP9kXyEcrJflArhNsVNgoHRmPaIaNeKEz3Uu2inwpRNKKU/CUNQaHxyO6cheFe0zrBeRHYyW5aco6c3g8bBinrFEIVdu9ZL80fE3WpmaBdeLwWHhFGElVek3jj/TcXXtIhlaU17Gi7Aal1zkZ46frKctfkgLoMbIbtIoO8Env+tOsoFBCFdk1u1bLtW7ZjcearcLh0ZBwTloi0J2b50VPqBXduvycnMcCYSwUNAV3fWl9RpW/oL+KFeDQSMBU5NtTvOgO+lct6Qa0uKSpQ+x69yxZhYlKF5yNaWCwf7OfXcLfqc0rM6pTyAcU0YPSBO58XVVHTtuiMJhrgrs50xfWBtuqqlGbnOFlf1M9ba+64nBw2E/igjMBjvo0E1EEa4sx5DrDyRIvelH54w9u2h4Y8pE4ZYmAvT7FBEiwGIwl1TpnjfCieaWiX0gDE/UOHBj0kRgqcNOVAMaS63Vm/3PUfKxEdL00aCJdJhXF6UcX5MAcpJrBcpMX/UGJ6D5p0FC8gMm8inkaL2sWxRykmjgYvOh6JaKD0qBbbvx033oUM1HuahbFHKSaL8JZXvScKtH9mEwpeEZqFsUcpJrYR1500HBRR331iJ6TBj0PZWHfG7dixkptHaZuh1TzlitOF+V33fFUCZO5FPMsoX0zwhykmoOxPC+6T4noD9KgQLEB+167FHPeHtUset4WJdUcTxZV7bofS4PwMGafGomhvIYLQ75JrhevtnjRL5TejvLSwNOjflLhE2MB1VdAjCWL4jWVF31XqehFaeDbaA72vnaSOGsNk2SxLYsh17loCfGSfsq3l9+kwdXuNOx95SRzHGfCUK7xv5LYhrVVVcORrfCiBymiHyBT0gQ3HBFM7FDFOWsYHseKwI4NT2sWvEi4MweuSof9jm9PQW7afkd9yrBDmiDX7MIeTGwmngVShGlLeHDNRnXPS4cpOPzWBZ3ZOV50q9ongSeWHzVzrAAWsgtnPFGQexfzmW6vI/yFGux5YRPKxYkAL8kY0P0F09tIVpjk4TdO3IAWeckYskaPdzAveNmn/qQQSTzqWH3aTksQ/Qipysnufm5dEQ71ljyg9zvSL5EFOdldzyxGgpKOXpIPjHrr/aOsrM842YOv7HRJ8bLmliTIJmDn0wk9ECZJkI3Dzifjmjjw0gaVzhRdUpSsAEkBst44XfKFlS5pflm6pPllH4/1gyBpctknKLsDheTYT5Q0v6wnhmKjy9j/3EKXXDWyj0YRAZICZFFyQoCkANn2zKwgSQGywiUFyP6uYeBJzLWFVbDpDihdNdx3OAGmiMwfBaNgFIwCAB+MVOu7zsaRAAAAAElFTkSuQmCC\""],"sourceRoot":""}