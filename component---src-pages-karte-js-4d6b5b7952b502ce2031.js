(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"0yfc":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAiCAYAAACjv9J3AAAD/ElEQVR4AWIgFkRFRTECSi8H7vqxIIDX+Nu2raP9Fuuv0Y+wx2tbxdqsbSupgvbVtvs8O5MzeUw2zT8551dd/DL3zp37iiQhKUgako6kIsnUZjXerogmzUD2I8eQ08h55AJyFjmJHEb2Ien6SziRZSJHWXD3008/fa6tve3j4eHhxvGJ8R5RFH+urql+BdueILeQc/wCGbwqiXaEacgh5FJWVtYzKGleW1/bCgaDYITP7wsuryyvqKpagmMesnw/kmIpZmE6cpwiGx4Zbt7e2fbqk+/4fDC5ugnC9DK0jS+Aa2kd5jd3QnKCXq6js+MzHH+NXzyVxZbChwsLC3P6RCQqlifh0ybZkOxWFSoHp2FtxxOSy4pcxkt+2FDMwlTevwck1CMrkibgk0Zp17SOzYfEkiyR+AZyEEmJlSYhB5Cb0zPTI7rw5+5hnGjANhXqVEisqEop5QaylzwhKS/rWdoL7oxCF3zS0P+0oHhSm8fj9QSys7NfxvlPIKmxUd6hDKSOraNz8HF9n2OGFtc08fzC/CzOf52jTSRpCnIiPz8/S1tWrw++bBqAj+p6HZPXKoeizc3NfZFzJllf2ot4FluoQ//MEnxY02MKrQJlqf64MJofO1TT/kMLq5q4t7f3F65gaQkc8s2l5aVlaszvHYEPqkVDBmaXwez5Q3AZjqkZnNSkU9NTLvRcRTITeD/vbW5teqjxh3YF3q8W4qC//89D0RuO+717SC8am5Q3yL4EPkMPqYF4v7LLkObhGbB6PqsVY8fR30KlkmoABalH+oD+SI2f1gjwXmVnLCidtpSajdUD4rp8kKT7KGwKnxp+7ZDh3fKOOP4RhyyW12047ruWfk1I20fbqEeaiVyljabGankMO7cbMrG8biot6Rs2HPN3t6pJKVEpYZG9JE1DzlJKU6M6uwTvlLUZ8nFVJ/ROLkTJ3F4fCc3GYP95TUpHko4mkp7Al/VROrx0iKnDV7Xd8HZpiykfVXXAL+0DhGW/Ha9Xk1Lx4VKYot8we5HrVK60Ij2zCG8VNzumQR3XhFRe+bgcCBV9vtZOUGHWoy0SB+HNoqanJq9BCGUtX+pnkfTYq42ivURXkd65SFDhzcIG2+TWdYeWla5KTqBQlJHiFC4UN+jy1cWFJC5o2DUk3GYhfRjggnDU6tPDYeSWJEnlYbECbxTUW5Jb2xUrfIQcR9JjhLsTF3TJ8Pq/dabk1HYaCU8YCu2La+PIrumwI7Qvzu+S4LV/akJkV7fDtsdjKXQu7pRsCR2JI7O6bmDYhtChWFH4HDMLi5rwoXOhufgQcgUvhw+np6cFQRQ+5g/Tx5wLzcUpyD4+e6c5uv1IqgOhrX+MU/l7kl3hfzyfUa7jdAMkAAAAAElFTkSuQmCC"},"3CX2":function(t,e,n){"use strict";n.r(e);var o=n("q1tI"),a=n.n(o),r=(n("E5k/"),n("xerD")),i=n.n(r),s=n("TB/y"),l=n.n(s),u=n("vOnD"),c=n("VhxH");n("v9g0");function h(t){var e=t.onChange,n=Object(o.useState)(""),r=n[0],i=n[1],s=(r.length,Object(o.useState)(null)),l=s[0],u=s[1];return Object(o.useEffect)((function(){!l&&r.length>0&&fetch("/plz_de.json").then((function(t){return t.json()})).then((function(t){return u(t)}))}),[r,l]),e&&l&&5===r.length&&e(r),console.log(l&&l.length),console.log(r),a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{placeholder:"Postleitzahlsuche...",type:"text",onChange:function(t){return i(t.target.value)},value:r}),a.a.createElement("div",null,JSON.stringify(l&&l.length),l&&5===r.length?l.find((function(t){return parseInt(r)===t[0]})).slice(1):"..."))}var d=function(t,e,n){return"https://"+String.fromCharCode(97+(t+e+n)%3)+".tile.openstreetmap.org/"+n+"/"+t+"/"+e+".png"},p=u.a.div.withConfig({displayName:"Map__FlexRow",componentId:"lru4mx-0"})(["display:flex;"]),f=u.a.div.withConfig({displayName:"Map__FlexColumn",componentId:"lru4mx-1"})(["flex-direction:column;"]),m=u.a.div.withConfig({displayName:"Map__Shadow",componentId:"lru4mx-2"})(["box-shadow:0 1px 3px rgba(0,0,0,0.12),0 1px 2px rgba(0,0,0,0.24);transition:all 0.3s cubic-bezier(0.25,0.8,0.25,1);"]),g=u.a.div.withConfig({displayName:"Map__Flexible",componentId:"lru4mx-3"})(["flex:1;"]),v=Object(u.a)(l.a).withConfig({displayName:"Map__StyledMarker",componentId:"lru4mx-4"})(["cursor:pointer;"]),M=Object(u.a)((function(t){var e=t.address,n=t.className,o=t.onClick;return a.a.createElement("div",{className:n,onClick:function(t){return o(e)}},a.a.createElement("h2",null,e.address_name),a.a.createElement("p",null,e.address_street," ",e.address_street_no),a.a.createElement("p",null,e.address_plz," ",e.address_city),e.distance?a.a.createElement("p",null,"Entfernung: ",Math.round(e.distance/1e3)," km"):null)})).withConfig({displayName:"Map__AddressCard",componentId:"lru4mx-5"})(["padding:1rem;margin-left:1rem;box-shadow:0 1px 3px rgba(0,0,0,0.12),0 1px 2px rgba(0,0,0,0.24);transition:all 0.3s cubic-bezier(0.25,0.8,0.25,1);&:hover{box-shadow:0 14px 28px rgba(0,0,0,0.25),0 10px 10px rgba(0,0,0,0.22);cursor:pointer;}h2{font-size:1rem;padding:0;margin:0;}p{padding:0;margin:0;}"]),w=Object(u.a)((function(t){return a.a.createElement("div",{className:t.className},a.a.createElement("button",{onClick:function(){navigator.geolocation.getCurrentPosition((function(e){return t.onPosition([e.coords.latitude,e.coords.longitude])}),(function(e){return t.onPosition([49.46113488438747,11.060361649632542])}))}},"Standort lokalisieren"),a.a.createElement("span",null,"oder..."),a.a.createElement(h,null))})).withConfig({displayName:"Map__Searchbar",componentId:"lru4mx-6"})(["width:400px;justify-content:space-between;align-items:center;display:flex;margin-bottom:1rem;input{height:1.5rem;}button{height:2rem;border:none;box-shadow:0 1px 3px rgba(0,0,0,0.12),0 1px 2px rgba(0,0,0,0.24);transition:all 0.3s cubic-bezier(0.25,0.8,0.25,1);&:hover{box-shadow:0 14px 28px rgba(0,0,0,0.25),0 10px 10px rgba(0,0,0,0.22);cursor:pointer;}&:active{box-shadow:0 1px 3px rgba(0,0,0,0.12),0 1px 2px rgba(0,0,0,0.24);}}"]);function x(t){var e=Object(o.useState)(null),n=e[0],r=e[1],s=Object(o.useState)(6),l=s[0],u=s[1],h=Object(o.useState)(null),x=h[0],y=h[1],b=Object(o.useMemo)((function(){return t.addresses.map((function(t){if(!x)return t;var e=Object(c.distanceTo)({lat:parseFloat(t.address_geo_latitude),lon:parseFloat(t.address_geo_longitude)},{lat:x[0],lon:x[1]});return Object.assign({},t,{distance:e})}))}),x);return a.a.createElement(f,null,a.a.createElement(w,{onPosition:function(t){y(t),r(t),u(10)}}),a.a.createElement(p,null,a.a.createElement(m,null,a.a.createElement(i.a,{onClick:function(e){u(6),r(t.initialCenter)},onBoundsChanged:function(t){console.log(t.center),r(t.center)},width:400,height:400,center:n||t.initialCenter,zoom:l,provider:d},t.addresses.map((function(t){return a.a.createElement(v,{styles:{cursor:"pointer"},key:t.address_geo_latitude+","+t.address_geo_longitude,anchor:[parseFloat(t.address_geo_latitude),parseFloat(t.address_geo_longitude)],onClick:function(t){r([t.payload.address_geo_latitude,t.payload.address_geo_longitude]),u(10)},payload:t})})))),a.a.createElement(g,null,a.a.createElement(f,null,b.map((function(t){return a.a.createElement(M,{key:"address-"+t.address_geo_latitude+","+t.address_geo_longitude,address:t,onClick:function(t){r([t.address_geo_latitude,t.address_geo_longitude]),u(10)}})}))))))}n("SYTO"),n("7pXE");var y=u.a.div.withConfig({displayName:"BareLayout__Content",componentId:"sc-1dizo2h-0"})(['max-width:750px;margin:auto;padding:80px 10px;font-family:"Fira Sans",sans-serif,"google";font-size:14px;line-height:1.5;h1{font-size:38px;font-weight:normal;color:#0e4f5d;line-height:1em;text-transform:uppercase;font-style:normal;text-align:center;margin:0;}h2{font-size:18px;font-weight:normal;text-align:left;color:#0e4f5d;line-height:1.25;margin-top:3em;}p{hyphens:auto;text-align:justify;}a:link,a:active,a:hover,a:visited{color:#0e4f5d;}@media (max-width:767px){padding:50px 16px;h1{font-size:30px !important;}h2{font-size:26px !important;margin-bottom:0.3em;}h3{font-size:22px !important;}h4{font-size:19px !important;}p{margin-top:0.8em;margin-bottom:1.6em;}}']);var b=function(t){t.page;var e=t.children;return a.a.createElement("div",null,a.a.createElement(y,null,e))};function T(t){var e=t.data.allAddressesJson.edges.map((function(t){return t.node}));return a.a.createElement(b,null,a.a.createElement(x,{initialCenter:[51.07406058399357,10.692255468750005],addresses:e}))}n.d(e,"default",(function(){return T})),n.d(e,"query",(function(){return A}));var A="11163922"},"6eTy":function(t,e,n){"use strict";n("R48M"),Object.defineProperty(e,"__esModule",{value:!0}),e.cpa=function(t,e){var n=(0,o.headingDistanceTo)(t.location,e.location),r=n.distance,l=n.heading,u=r*Math.sin((0,a.degToRad)(l)),c=r*Math.cos((0,a.degToRad)(l)),h={position:{x:0,y:0},vector:{x:t.speed*Math.sin((0,a.degToRad)(t.heading)),y:t.speed*Math.cos((0,a.degToRad)(t.heading))}},d={position:{x:u,y:c},vector:{x:e.speed*Math.sin((0,a.degToRad)(e.heading)),y:e.speed*Math.cos((0,a.degToRad)(e.heading))}};return{time:i(h,d),distance:s(h,d)}},e.cpaTime=i,e.cpaDistance=s;var o=n("RvDl"),a=n("9TDR"),r=1e-8;function i(t,e){var n=h(t.vector,e.vector),o=l(n,n);return o<r?0:-l(h(t.position,e.position),n)/o}function s(t,e){var n=i(t,e),o=u(t.position,c(n,t.vector)),a=u(e.position,c(n,e.vector));return function(t){return Math.sqrt(l(t,t))}(h(o,a))}function l(t,e){return t.x*e.x+t.y*e.y}function u(t,e){return{x:t.x+e.x,y:t.y+e.y}}function c(t,e){return{x:t*e.x,y:t*e.y}}function h(t,e){return{x:t.x-e.x,y:t.y-e.y}}},"9TDR":function(t,e,n){"use strict";n("R48M"),Object.defineProperty(e,"__esModule",{value:!0}),e.degToRad=function(t){return t*Math.PI/180},e.radToDeg=function(t){return 180*t/Math.PI},e.knotsToMeterPerSecond=function(t){return.514444*t},e.meterPerSecondToKnots=function(t){return t/.514444},e.knotsToKmPerHour=function(t){return 1.852*t},e.kmPerHourToKnots=function(t){return t/1.852}},CqVo:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAiCAYAAACjv9J3AAACQ0lEQVR4AWLABkbBv3//BIHYEYgLgbgRiAOB2IAWFrEAaKunwwiDIIDjTaSElJIOUsKVkCpi27ZtnG0jtu1MZh8mnD3fw/9tZ3+fPywPU2Ig6QqbxBTpAAXmoc0fX19h7+oObAcXYNg5hfD5DZzcPRJMKbGcZMEe2khAs749qNH42Jr1AVgOHsD14/NPXJEUKM5sxrcL1Rpv3Om3TxKCCawksN8WgWq1J+GWA/s8LAFzaHGfNZwUSC19wwdYVjR0EsNLdAzVKnfKhc+uCe6UgdkYPL68QqPWC1VKV8q1GwNRz5ZeD/AcXUTdaMi1CyvbF6A+uAXRdOBIPL3S9aHTK4JzOXQMgyn3FlSsO9gmfAcCYms1BtmZ9dA+oWUcasWgxxSAijXHv5r0PgLY8OzZuWFbmNA1DgVR+aqNbdCxLQWpqg3Hv7k6pZPQKw69wsSi5NF1BzdLKHDoGgZDlgCUrVj+hU9irMvLznUbvIRaObQMg9XADjssmgseS9Euc4idmXCECR3j0FwMgsd4xMtmtspVK4x79n5h67tX0GkKSmdc+6eE5nFoFnaAQbPaCaVLJmkVeAZNWo8o6rqaNav42BCaLfsqddLZluBQqmlCewROkhH1bGedYShZMCRdp9ZFINBPPRqswCBZmMDHlxcCK+VaFLhoThd3HRrHT7AnLpCFHeH4QHUKIA+HoHBWK61dZU8d5OEgFM5o/pVWkIXtv+E2pS39IAfPIFwwrc4syMEq/3bmQQ7+HO0txGyqNhIqaUYBAA36UJJokkxWAAAAAElFTkSuQmCC"},MI5e:function(t,e){t.exports="data:image/png;base64,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"},QNMc:function(t,e,n){var o=n("P8UN");o(o.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},RvDl:function(t,e,n){"use strict";n("U6Bt"),n("AqHK"),n("YbXK"),n("cFtU"),n("MIFh"),n("R48M"),Object.defineProperty(e,"__esModule",{value:!0}),e.EARTH_RADIUS=void 0,e.isEqual=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return!(!t||!e)&&(Math.abs(v(t)-v(e))<=n&&Math.abs(g(t)-g(e))<=n)},e.isLatLon=u,e.isLatLng=c,e.isLatitudeLongitude=h,e.isLonLatTuple=d,e.getLocationType=p,e.createLocation=f,e.toLatLon=function(t){if(d(t))return{lat:t[1],lon:t[0]};if(u(t))return{lat:t.lat,lon:t.lon};if(c(t))return{lat:t.lat,lon:t.lng};if(h(t))return{lat:t.latitude,lon:t.longitude};throw new Error("Unknown location format "+JSON.stringify(t))},e.toLatLng=function(t){if(d(t))return{lat:t[1],lng:t[0]};if(u(t))return{lat:t.lat,lng:t.lon};if(c(t))return{lat:t.lat,lng:t.lng};if(h(t))return{lat:t.latitude,lng:t.longitude};throw new Error("Unknown location format "+JSON.stringify(t))},e.toLatitudeLongitude=function(t){if(d(t))return{latitude:t[1],longitude:t[0]};if(u(t))return{latitude:t.lat,longitude:t.lon};if(c(t))return{latitude:t.lat,longitude:t.lng};if(h(t))return{latitude:t.latitude,longitude:t.longitude};throw new Error("Unknown location format "+JSON.stringify(t))},e.toLonLatTuple=m,e.getLongitude=g,e.getLatitude=v,e.moveTo=M,e.headingDistanceTo=w,e.headingTo=function(t,e){return w(t,e).heading},e.distanceTo=x,e.insideBoundingBox=function(t,e){var n=v(t),o=g(t),a=g(e.topLeft),r=v(e.topLeft),i=g(e.bottomRight),s=v(e.bottomRight),l=Math.min(r,s),u=Math.max(r,s),c=Math.min(a,i),h=Math.max(a,i);return o>=c&&o<=h&&n>=l&&n<=u},e.insidePolygon=function(t,e){if(!e||!Array.isArray(e))throw new TypeError("Invalid polygon. Array with locations expected");if(0===e.length)throw new TypeError("Invalid polygon. Non-empty Array expected");return(0,r.default)(m(t),e.map(m))},e.insideCircle=function(t,e,n){return x(e,t)<=n},e.normalizeHeading=function(t){var e=t%360;e<0&&(e+=360);e>=360&&(e-=360);return e},e.normalizeLatitude=y,e.normalizeLongitude=b,e.normalizeLocation=function(t){if(d(t))return[b(t[0]),y(t[1])];if(u(t))return{lat:y(t.lat),lon:b(t.lon)};if(c(t))return{lat:y(t.lat),lng:b(t.lng)};if(h(t))return{latitude:y(t.latitude),longitude:b(t.longitude)};throw new Error("Unknown location format "+JSON.stringify(t))},e.average=function(t){if(!Array.isArray(t)||0===t.length)return null;var e=t[0],n=T(t.map(v)),o=T(t.map(g));return f(n,o,p(e))},e.getBoundingBox=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Array.isArray(t)||0===t.length)return{topLeft:null,bottomRight:null};var n=p(t[0]),o=Math.max.apply(Math,s(t.map(v))),a=Math.min.apply(Math,s(t.map(g))),r=Math.min.apply(Math,s(t.map(v))),i=Math.max.apply(Math,s(t.map(g))),l=f(o,a,n),u=f(r,i,n);if(null===e||0===e)return{topLeft:l,bottomRight:u};var c=Math.SQRT2*e;return{topLeft:M(l,{heading:315,distance:c}),bottomRight:M(u,{heading:135,distance:c})}};var o,a=n("cQc6"),r=(o=a)&&o.__esModule?o:{default:o},i=n("9TDR");function s(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var l=e.EARTH_RADIUS=6378137;function u(t){return!!t&&"number"==typeof t.lat&&"number"==typeof t.lon}function c(t){return!!t&&"number"==typeof t.lat&&"number"==typeof t.lng}function h(t){return!!t&&"number"==typeof t.latitude&&"number"==typeof t.longitude}function d(t){return Array.isArray(t)&&"number"==typeof t[0]&&"number"==typeof t[1]}function p(t){if(d(t))return"LonLatTuple";if(u(t))return"LatLon";if(c(t))return"LatLng";if(h(t))return"LatitudeLongitude";throw new Error("Unknown location format "+JSON.stringify(t))}function f(t,e,n){if("LonLatTuple"===n)return[e,t];if("LatLon"===n)return{lat:t,lon:e};if("LatLng"===n)return{lat:t,lng:e};if("LatitudeLongitude"===n)return{latitude:t,longitude:e};throw new Error("Unknown location format "+JSON.stringify(location))}function m(t){if(d(t))return[t[0],t[1]];if(u(t))return[t.lon,t.lat];if(c(t))return[t.lng,t.lat];if(h(t))return[t.longitude,t.latitude];throw new Error("Unknown location format "+JSON.stringify(t))}function g(t){if(d(t))return t[0];if(u(t))return t.lon;if(c(t))return t.lng;if(h(t))return t.longitude;throw new Error("Unknown location format "+JSON.stringify(t))}function v(t){if(d(t))return t[1];if(u(t))return t.lat;if(c(t))return t.lat;if(h(t))return t.latitude;throw new Error("Unknown location format "+JSON.stringify(t))}function M(t,e){var n=v(t),o=g(t),a=e.heading,r=e.distance,s=r*Math.cos((0,i.degToRad)(a))/l,u=r*Math.sin((0,i.degToRad)(a))/(l*Math.cos((0,i.degToRad)(n)));return f(n+(0,i.radToDeg)(s),o+(0,i.radToDeg)(u),p(t))}function w(t,e){var n=v(t),o=g(t),a=v(e),r=g(e),s=(0,i.degToRad)(n),u=(0,i.degToRad)(a),c=(0,i.degToRad)(a-n),h=(0,i.degToRad)(r-o),d=Math.sin(c/2)*Math.sin(c/2)+Math.cos(s)*Math.cos(u)*Math.sin(h/2)*Math.sin(h/2),p=2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),f=l*p,m=Math.sin(h)*Math.cos(u),M=Math.cos(s)*Math.sin(u)-Math.sin(s)*Math.cos(u)*Math.cos(h);return{distance:f,heading:(0,i.radToDeg)(Math.atan2(m,M))}}function x(t,e){return w(t,e).distance}function y(t){return Math.asin(Math.sin(t/180*Math.PI))*(180/Math.PI)}function b(t){var e=t%360;return e>180&&(e-=360),e<=-180&&(e+=360),e}function T(t){return function(t){return t.reduce((function(t,e){return t+e}),0)}(t)/t.length}},"TB/y":function(t,e,n){"use strict";n("JHok"),n("q/PY"),n("LagC"),n("pS08"),n("R48M"),Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=n("mlve"),r=c(n("17x9")),i=c(n("CqVo")),s=c(n("xwRA")),l=c(n("0yfc")),u=c(n("MI5e"));function c(t){return t&&t.__esModule?t:{default:t}}var h=15,d=31,p=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.eventParameters=function(t){return{event:t,anchor:n.props.anchor,payload:n.props.payload}},n.handleClick=function(){n.props.onClick&&n.props.onClick(n.eventParameters())},n.handleContextMenu=function(){n.props.onContextMenu&&n.props.onContextMenu(n.eventParameters())},n.handleMouseOver=function(){n.props.onMouseOver&&n.props.onMouseOver(n.eventParameters()),n.setState({hover:!0})},n.handleMouseOut=function(){n.props.onMouseOut&&n.props.onMouseOut(n.eventParameters()),n.setState({hover:!1})},n.state={hover:!1},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"isRetina",value:function(){return"undefined"!=typeof window&&window.devicePixelRatio>=2}},{key:"isHover",value:function(){return"boolean"==typeof this.props.hover?this.props.hover:this.state.hover}},{key:"image",value:function(){return this.isRetina()?this.isHover()?u.default:s.default:this.isHover()?l.default:i.default}},{key:"componentDidMount",value:function(){(this.isRetina()?[s.default,u.default]:[i.default,l.default]).forEach((function(t){(new window.Image).src=t}))}},{key:"render",value:function(){var t=this.props,e=t.left,n=t.top,o=t.onClick,r={position:"absolute",transform:"translate("+(e-h)+"px, "+(n-d)+"px)",cursor:o?"pointer":"default"};return a.React.createElement("div",{style:r,className:"pigeon-click-block",onClick:this.handleClick,onContextMenu:this.handleContextMenu,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},a.React.createElement("img",{src:this.image(),width:29,height:34,alt:""}))}}]),e}(a.Component);p.propTypes={anchor:r.default.array.isRequired,payload:r.default.any,hover:r.default.bool,onClick:r.default.func,onContextMenu:r.default.func,onMouseOver:r.default.func,onMouseOut:r.default.func,left:r.default.number,top:r.default.number,latLngToPixel:r.default.func,pixelToLatLng:r.default.func},e.default=p},VhxH:function(t,e,n){"use strict";n("rzGZ"),n("Dq+y"),n("8npG"),n("Ggvi"),n("JHok"),n("R48M"),Object.defineProperty(e,"__esModule",{value:!0});var o=n("9TDR");Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}));var a=n("RvDl");Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})}));var r=n("6eTy");Object.defineProperty(e,"cpa",{enumerable:!0,get:function(){return r.cpa}})},cQc6:function(t,e){t.exports=function(t,e){for(var n=t[0],o=t[1],a=!1,r=0,i=e.length-1;r<e.length;i=r++){var s=e[r][0],l=e[r][1],u=e[i][0],c=e[i][1];l>o!=c>o&&n<(u-s)*(o-l)/(c-l)+s&&(a=!a)}return a}},mlve:function(t,e,n){"use strict";e.React=n("q1tI"),e.ReactDOM=n("i8i4"),e.Component=e.React.Component},"q/PY":function(t,e,n){"use strict";n("t+fG")("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},"t+fG":function(t,e,n){var o=n("P8UN"),a=n("96qb"),r=n("ap2Z"),i=/"/g,s=function(t,e,n,o){var a=String(r(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(o).replace(i,"&quot;")+'"'),s+">"+a+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),o(o.P+o.F*a((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},xerD:function(t,e,n){"use strict";function o(t){return t&&"object"==typeof t&&"default"in t?t.default:t}n("sC2a"),n("sc67"),n("q/PY"),n("QNMc"),n("rzGZ"),n("Dq+y"),n("8npG"),n("Ggvi"),n("OeI1"),n("AqHK"),n("LagC"),n("pS08");var a=n("q1tI"),r=o(a);o(n("17x9"));function i(t){var e=t.getBoundingClientRect();return{x:e.left,y:e.top}}function s(t,e){for(;t;){if(t.classList&&t.classList.contains(e))return!0;t=t.offsetParent}return!1}var l=300,u=1500,c=150,h=40,d=2,p=300,f=60,m=300,g=300,v=function(){};function M(t,e,n,o){return"https://stamen-tiles.a.ssl.fastly.net/toner/"+n+"/"+t+"/"+e+(o>=2?"@2x":"")+".png"}var w=function(t,e){return(t+180)/360*Math.pow(2,e)},x=function(t,e){return(1-Math.log(Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180))/Math.PI)/2*Math.pow(2,e)};function y(t,e){return t/Math.pow(2,e)*360-180}function b(t,e){var n=Math.PI-2*Math.PI*t/Math.pow(2,e);return 180/Math.PI*Math.atan(.5*(Math.exp(n)-Math.exp(-n)))}function T(t,e){var n=i(t);return[e.clientX-n.x,e.clientY-n.y]}var A,_=[b(Math.pow(2,10),10),b(0,10),y(0,10),y(Math.pow(2,10),10)],C="undefined"!=typeof window,S=C&&window.performance&&window.performance.now?function(){return window.performance.now()}:(A=(new Date).getTime(),function(){return(new Date).getTime()-A}),E=C?window.requestAnimationFrame||window.setTimeout:function(t){return t()},P=C?window.cancelAnimationFrame||window.clearTimeout:function(){};function k(t,e,n,o,a){return t&&0!==t.length?t.map((function(t){return e(n,o,a,t)+(1===t?"":" "+t+"x")})).join(", "):""}var z=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o,a,r,i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return i.updateWidthHeight=function(){if(i._containerRef){var t=i._containerRef.getBoundingClientRect();if(t&&t.width>0&&t.height>0)return i.setState({width:t.width,height:t.height}),!0}return!1},i.wa=function(t,e,n){return window.addEventListener(t,e,n)},i.wr=function(t,e){return window.removeEventListener(t,e)},i.bindMouseEvents=function(){i.wa("mousedown",i.handleMouseDown),i.wa("mouseup",i.handleMouseUp),i.wa("mousemove",i.handleMouseMove)},i.bindTouchEvents=function(){i.wa("touchstart",i.handleTouchStart,{passive:!1}),i.wa("touchmove",i.handleTouchMove,{passive:!1}),i.wa("touchend",i.handleTouchEnd,{passive:!1})},i.unbindMouseEvents=function(){i.wr("mousedown",i.handleMouseDown),i.wr("mouseup",i.handleMouseUp),i.wr("mousemove",i.handleMouseMove)},i.unbindTouchEvents=function(){i.wr("touchstart",i.handleTouchStart),i.wr("touchmove",i.handleTouchMove),i.wr("touchend",i.handleTouchEnd)},i.bindResizeEvent=function(){i.wa("resize",i.updateWidthHeight)},i.unbindResizeEvent=function(){i.wr("resize",i.updateWidthHeight)},i.bindWheelEvent=function(){i._containerRef&&i._containerRef.addEventListener("wheel",i.handleWheel,{passive:!1})},i.unbindWheelEvent=function(){i._containerRef&&i._containerRef.removeEventListener("wheel",i.handleWheel)},i.setCenterZoomTarget=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l;if(i.props.animate&&(!n||i.distanceInScreens(t,e,i.state.center,i.state.zoom)<=i.props.animateMaxScreens)){if(i._isAnimating){P(i._animFrame);var r=i.animationStep(S()),s=r.centerStep,u=r.zoomStep;i._centerStart=s,i._zoomStart=u}else i._isAnimating=!0,i._centerStart=i.limitCenterAtZoom([i._lastCenter[0],i._lastCenter[1]],i._lastZoom),i._zoomStart=i._lastZoom,i.onAnimationStart();i._animationStart=S(),i._animationEnd=i._animationStart+a,o?(i._zoomAround=o,i._centerTarget=i.calculateZoomCenter(i._lastCenter,o,i._lastZoom,e)):(i._zoomAround=null,i._centerTarget=t),i._zoomTarget=e,i._animFrame=E(i.animate)}else if(i.stopAnimating(),o){var c=i.calculateZoomCenter(i._lastCenter,o,i._lastZoom,e);i.setCenterZoom(c,e,n)}else i.setCenterZoom(t,e,n)},i.distanceInScreens=function(t,e,n,o){var a=i.state,r=a.width,s=a.height,l=i.latLngToPixel(n,n,o),u=i.latLngToPixel(t,n,o),c=i.latLngToPixel(n,n,e),h=i.latLngToPixel(t,n,e),d=(Math.abs(l[0]-u[0])+Math.abs(c[0]-h[0]))/2/r,p=(Math.abs(l[1]-u[1])+Math.abs(c[1]-h[1]))/2/s;return Math.sqrt(d*d+p*p)},i.animationStep=function(t){var e,n=i._animationEnd-i._animationStart,o=Math.max(t-i._animationStart,0),a=(e=o/n)*(2-e),r=(i._zoomTarget-i._zoomStart)*a,s=i._zoomStart+r;return i._zoomAround?{centerStep:i.calculateZoomCenter(i._centerStart,i._zoomAround,i._zoomStart,s),zoomStep:s}:{centerStep:[i._centerStart[0]+(i._centerTarget[0]-i._centerStart[0])*a,i._centerStart[1]+(i._centerTarget[1]-i._centerStart[1])*a],zoomStep:s}},i.animate=function(t){if(t>=i._animationEnd)i._isAnimating=!1,i.setCenterZoom(i._centerTarget,i._zoomTarget,!0),i.onAnimationStop();else{var e=i.animationStep(t),n=e.centerStep,o=e.zoomStep;i.setCenterZoom(n,o),i._animFrame=E(i.animate)}},i.stopAnimating=function(){i._isAnimating&&(i._isAnimating=!1,i.onAnimationStop(),P(i._animFrame))},i.limitCenterAtZoom=function(t,e){var n=i.getBoundsMinMax(e||i.state.zoom);return[Math.max(Math.min(isNaN(t[0])?i.state.center[0]:t[0],n[1]),n[0]),Math.max(Math.min(isNaN(t[1])?i.state.center[1]:t[1],n[3]),n[2])]},i.onAnimationStart=function(){i.props.onAnimationStart&&i.props.onAnimationStart()},i.onAnimationStop=function(){i.props.onAnimationStop&&i.props.onAnimationStop()},i.setCenterZoom=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=i.limitCenterAtZoom(t,e);if(Math.round(i.state.zoom)!==Math.round(e)){var a=i.tileValues(i.state),r=i.tileValues({center:o,zoom:e,width:i.state.width,height:i.state.height}),s=i.state.oldTiles;i.setState({oldTiles:s.filter((function(t){return t.roundedZoom!==a.roundedZoom})).concat(a)},v);for(var l={},u=r.tileMinX;u<=r.tileMaxX;u++)for(var c=r.tileMinY;c<=r.tileMaxY;c++){var h=u+"-"+c+"-"+r.roundedZoom;l[h]=!1}i._loadTracker=l}i.setState({center:o,zoom:e},v);var d=i.props.zoom?i.props.zoom:i._lastZoom,p=i.props.center?i.props.center:i._lastCenter;(n||Math.abs(d-e)>.001||Math.abs(p[0]-o[0])>1e-5||Math.abs(p[1]-o[1])>1e-5)&&(i._lastZoom=e,i._lastCenter=[].concat(o),i.syncToProps(o,e))},i.getBoundsMinMax=function(t){if("center"===i.props.limitBounds)return _;var e=i.state,n=e.width,o=e.height;if(i._minMaxCache&&i._minMaxCache[0]===t&&i._minMaxCache[1]===n&&i._minMaxCache[2]===o)return i._minMaxCache[3];var a=256*Math.pow(2,t),r=n>a?0:y(n/512,t),s=o>a?0:b(Math.pow(2,t)-o/512,t),l=n>a?0:y(Math.pow(2,t)-n/512,t),u=[s,o>a?0:b(o/512,t),r,l];return i._minMaxCache=[t,n,o,u],u},i.imageLoaded=function(t){i._loadTracker&&t in i._loadTracker&&(i._loadTracker[t]=!0,0===Object.keys(i._loadTracker).filter((function(t){return!i._loadTracker[t]})).length&&i.setState({oldTiles:[]},v))},i.handleTouchStart=function(t){if(i._containerRef&&(!t.target||!s(t.target,"pigeon-drag-block")))if(1===t.touches.length){var e=t.touches[0],n=T(i._containerRef,e);if(i.coordsInside(n)&&(i._touchStartPixel=[n],!i.props.twoFingerDrag))if(i.stopAnimating(),i._lastTap&&S()-i._lastTap<p){t.preventDefault();var o=i.pixelToLatLng(i._touchStartPixel[0]);i.setCenterZoomTarget(null,Math.max(i.props.minZoom,Math.min(i.state.zoom+1,i.props.maxZoom)),!1,o)}else i._lastTap=S(),i.trackMoveEvents(n)}else if(2===t.touches.length&&i._touchStartPixel){t.preventDefault(),i.stopTrackingMoveEvents(),(i.state.pixelDelta||i.state.zoomDelta)&&i.sendDeltaChange();var a=T(i._containerRef,t.touches[0]),r=T(i._containerRef,t.touches[1]);i._touchStartPixel=[a,r],i._touchStartMidPoint=[(a[0]+r[0])/2,(a[1]+r[1])/2],i._touchStartDistance=Math.sqrt(Math.pow(a[0]-r[0],2)+Math.pow(a[1]-r[1],2))}},i.handleTouchMove=function(t){if(i._containerRef){if(1===t.touches.length&&i._touchStartPixel){var e=t.touches[0],n=T(i._containerRef,e);i.props.twoFingerDrag?i.coordsInside(n)&&i.showWarning("fingers"):(t.preventDefault(),i.trackMoveEvents(n),i.setState({pixelDelta:[n[0]-i._touchStartPixel[0][0],n[1]-i._touchStartPixel[0][1]]},v))}else if(2===t.touches.length&&i._touchStartPixel){var o=i.state,a=o.width,r=o.height,s=o.zoom;t.preventDefault();var l=T(i._containerRef,t.touches[0]),u=T(i._containerRef,t.touches[1]),c=[(l[0]+u[0])/2,(l[1]+u[1])/2],h=[c[0]-i._touchStartMidPoint[0],c[1]-i._touchStartMidPoint[1]],d=Math.sqrt(Math.pow(l[0]-u[0],2)+Math.pow(l[1]-u[1],2)),p=Math.max(i.props.minZoom,Math.min(i.props.maxZoom,s+Math.log2(d/i._touchStartDistance)))-s,f=Math.pow(2,p),m=[(a/2-c[0])*(f-1),(r/2-c[1])*(f-1)];i.setState({zoomDelta:p,pixelDelta:[m[0]+h[0]*f,m[1]+h[1]*f]},v)}}else i._touchStartPixel=null},i.handleTouchEnd=function(t){if(i._containerRef){if(i._touchStartPixel){var e=i.props,n=e.zoomSnap,o=e.twoFingerDrag,a=e.minZoom,r=e.maxZoom,s=i.state.zoomDelta,l=i.sendDeltaChange(),u=l.center,c=l.zoom;if(0===t.touches.length)if(o)i.clearWarning();else{var h=i._touchStartPixel[0],p=T(i._containerRef,t.changedTouches[0]);(Math.abs(h[0]-p[0])>d||Math.abs(h[1]-p[1])>d)&&(!i._secondTouchEnd||S()-i._secondTouchEnd>m)&&(t.preventDefault(),i.throwAfterMoving(p,u,c)),i._touchStartPixel=null,i._secondTouchEnd=null}else if(1===t.touches.length){t.preventDefault();var f=T(i._containerRef,t.touches[0]);if(i._secondTouchEnd=S(),i._touchStartPixel=[f],i.trackMoveEvents(f),n){var g=i._touchStartMidPoint?i.pixelToLatLng(i._touchStartMidPoint):i.state.center,v=void 0;v=o&&Math.round(i.state.zoom)===Math.round(i.state.zoom+s)?Math.round(i.state.zoom):s>0?Math.ceil(i.state.zoom):Math.floor(i.state.zoom);var M=Math.max(a,Math.min(v,r));i.setCenterZoomTarget(g,M,!1,g)}}}}else i._touchStartPixel=null},i.handleMouseDown=function(t){if(i._containerRef){var e=T(i._containerRef,t);if(0===t.button&&(!t.target||!s(t.target,"pigeon-drag-block"))&&i.coordsInside(e))if(i.stopAnimating(),t.preventDefault(),i._lastClick&&S()-i._lastClick<p){var n=i.pixelToLatLng(i._mousePosition||e);i.setCenterZoomTarget(null,Math.max(i.props.minZoom,Math.min(i.state.zoom+1,i.props.maxZoom)),!1,n)}else i._lastClick=S(),i._mouseDown=!0,i._dragStart=e,i.trackMoveEvents(e)}},i.handleMouseMove=function(t){i._containerRef&&(i._mousePosition=T(i._containerRef,t),i._mouseDown&&i._dragStart&&(i.trackMoveEvents(i._mousePosition),i.setState({pixelDelta:[i._mousePosition[0]-i._dragStart[0],i._mousePosition[1]-i._dragStart[1]]},v)))},i.handleMouseUp=function(t){if(i._containerRef){var e=i.state.pixelDelta;if(i._mouseDown){i._mouseDown=!1;var n=T(i._containerRef,t);if(!i.props.onClick||t.target&&s(t.target,"pigeon-click-block")||e&&!(Math.abs(e[0])+Math.abs(e[1])<=d)){var o=i.sendDeltaChange(),a=o.center,r=o.zoom;i.throwAfterMoving(n,a,r)}else{var l=i.pixelToLatLng(n);i.props.onClick({event:t,latLng:l,pixel:n}),i.setState({pixelDelta:null},v)}}}else i._mouseDown=!1},i.stopTrackingMoveEvents=function(){i._moveEvents=[]},i.trackMoveEvents=function(t){var e=S();(0===i._moveEvents.length||e-i._moveEvents[i._moveEvents.length-1].timestamp>40)&&(i._moveEvents.push({timestamp:e,coords:t}),i._moveEvents.length>2&&i._moveEvents.shift())},i.throwAfterMoving=function(t,e,n){var o=i.state,a=o.width,r=o.height,s=i.props.animate,l=S(),c=i._moveEvents.shift();if(c&&s){var d=Math.max(l-c.timestamp,1),p=[(t[0]-c.coords[0])/d*120,(t[1]-c.coords[1])/d*120],f=Math.sqrt(p[0]*p[0]+p[1]*p[1]);if(f>h){var m=Math.sqrt(a*a+r*r),g=u*f/m,v=y(w(e[1],n)-p[0]/256,n),M=b(x(e[0],n)-p[1]/256,n);i.setCenterZoomTarget([M,v],n,!1,null,g)}}i.stopTrackingMoveEvents()},i.sendDeltaChange=function(){var t=i.state,e=t.center,n=t.zoom,o=t.pixelDelta,a=t.zoomDelta,r=e[0],s=e[1];return(o||0!==a)&&(s=y(w(e[1],n+a)-(o?o[0]/256:0),n+a),r=b(x(e[0],n+a)-(o?o[1]/256:0),n+a),i.setCenterZoom([r,s],n+a)),i.setState({pixelDelta:null,zoomDelta:0},v),{center:i.limitCenterAtZoom([r,s],n+a),zoom:n+a}},i.getBounds=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.state.center,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.zoomPlusDelta(),n=i.state,o=n.width,a=n.height;return{ne:i.pixelToLatLng([o-1,0],t,e),sw:i.pixelToLatLng([0,a-1],t,e)}},i.syncToProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.state.center,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.state.zoom,n=i.props.onBoundsChanged;if(n){var o=i.getBounds(t,e);n({center:t,zoom:e,bounds:o,initial:!i._boundsSynced}),i._boundsSynced=!0}},i.handleWheel=function(t){var e=i.props,n=e.mouseEvents,o=e.metaWheelZoom,a=e.zoomSnap,r=e.animate;if(n)if(!o||t.metaKey){t.preventDefault();var s=-t.deltaY/c;if(!a&&i._zoomTarget){var u=i._zoomTarget-i.state.zoom;i.zoomAroundMouse(s+u,t)}else r?i.zoomAroundMouse(s,t):(!i._lastWheel||S()-i._lastWheel>l)&&(i._lastWheel=S(),i.zoomAroundMouse(s,t))}else i.showWarning("wheel")},i.showWarning=function(t){i.state.showWarning&&i.state.warningType===t||i.setState({showWarning:!0,warningType:t}),i._warningClearTimeout&&window.clearTimeout(i._warningClearTimeout),i._warningClearTimeout=window.setTimeout(i.clearWarning,g)},i.clearWarning=function(){i.state.showWarning&&i.setState({showWarning:!1})},i.zoomAroundMouse=function(t,e){if(i._containerRef){var n=i.state.zoom,o=i.props,a=o.minZoom,r=o.maxZoom,s=o.zoomSnap;if(i._mousePosition=T(i._containerRef,e),!(!i._mousePosition||n===a&&t<0||n===r&&t>0)){var l=i.pixelToLatLng(i._mousePosition),u=n+t;s&&(u=t<0?Math.floor(u):Math.ceil(u)),u=Math.max(a,Math.min(u,r)),i.setCenterZoomTarget(null,u,!1,l)}}},i.zoomPlusDelta=function(){return i.state.zoom+i.state.zoomDelta},i.pixelToLatLng=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.state.center,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.zoomPlusDelta(),o=i.state,a=o.width,r=o.height,s=o.pixelDelta,l=[(t[0]-a/2-(s?s[0]:0))/256,(t[1]-r/2-(s?s[1]:0))/256],u=w(e[1],n)+l[0],c=x(e[0],n)+l[1];return[Math.max(_[0],Math.min(_[1],b(c,n))),Math.max(_[2],Math.min(_[3],y(u,n)))]},i.latLngToPixel=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.state.center,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.zoomPlusDelta(),o=i.state,a=o.width,r=o.height,s=o.pixelDelta,l=w(e[1],n),u=x(e[0],n),c=w(t[1],n),h=x(t[0],n);return[256*(c-l)+a/2+(s?s[0]:0),256*(h-u)+r/2+(s?s[1]:0)]},i.calculateZoomCenter=function(t,e,n,o){var a=i.state,r=a.width,s=a.height,l=i.latLngToPixel(e,t,n),u=i.latLngToPixel(e,t,o),c=i.pixelToLatLng([r/2+u[0]-l[0],s/2+u[1]-l[1]],t,o);return i.limitCenterAtZoom(c,o)},i.setRef=function(t){i._containerRef=t},i.syncToProps=(o=i.syncToProps,a=f,r=void 0,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=this;clearTimeout(r),r=setTimeout((function(){return o.apply(i,e)}),a)}),i._mousePosition=null,i._dragStart=null,i._mouseDown=!1,i._moveEvents=[],i._lastClick=null,i._lastTap=null,i._touchStartPixel=null,i._isAnimating=!1,i._animationStart=null,i._animationEnd=null,i._centerTarget=null,i._zoomTarget=null,i._lastZoom=n.defaultZoom?n.defaultZoom:n.zoom,i._lastCenter=n.defaultCenter?n.defaultCenter:n.center,i._boundsSynced=!1,i._minMaxCache=null,i.state={zoom:i._lastZoom,center:i._lastCenter,width:n.width||n.defaultWidth,height:n.height||n.defaultHeight,zoomDelta:0,pixelDelta:null,oldTiles:[],showWarning:!1,warningType:null},i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=function(){this.props.mouseEvents&&this.bindMouseEvents(),this.props.touchEvents&&this.bindTouchEvents(),this.props.width&&this.props.height||(this.updateWidthHeight()||E(this.updateWidthHeight),this.bindResizeEvent(),this.bindWheelEvent()),this.syncToProps()},e.prototype.componentWillUnmount=function(){this.props.mouseEvents&&this.unbindMouseEvents(),this.props.touchEvents&&this.unbindTouchEvents(),this.props.width&&this.props.height||(this.unbindResizeEvent(),this.unbindWheelEvent())},e.prototype.componentDidUpdate=function(t){if(this.props.mouseEvents!==t.mouseEvents&&(this.props.mouseEvents?this.bindMouseEvents():this.unbindMouseEvents()),this.props.touchEvents!==t.touchEvents&&(this.props.touchEvents?this.bindTouchEvents():this.unbindTouchEvents()),this.props.width&&this.props.width!==t.width&&this.setState({width:this.props.width}),this.props.height&&this.props.height!==t.height&&this.setState({height:this.props.height}),(this.props.center||this.props.zoom)&&(this.props.center&&(this.props.center[0]!==t.center[0]||this.props.center[1]!==t.center[1])||this.props.zoom!==t.zoom)){var e=this._isAnimating?this._centerTarget:this.state.center,n=this._isAnimating?this._zoomTarget:this.state.zoom,o=this.props.center||e,a=this.props.zoom||n;(Math.abs(a-n)>.001||Math.abs(o[0]-e[0])>1e-4||Math.abs(o[1]-e[1])>1e-4)&&this.setCenterZoomTarget(o,a,!0)}},e.prototype.coordsInside=function(t){var e=this.state,n=e.width,o=e.height;if(t[0]<0||t[1]<0||t[0]>=n||t[1]>=o)return!1;var a=this._containerRef,r=i(a),s=document.elementFromPoint(t[0]+r.x,t[1]+r.y);return a===s||a.contains(s)},e.prototype.tileValues=function(t){var e=t.center,n=t.zoom,o=t.pixelDelta,a=t.zoomDelta,r=t.width,i=t.height,s=Math.round(n+(a||0)),l=n+(a||0)-s,u=Math.pow(2,l),c=r/u,h=i/u,d=w(e[1],s)-(o?o[0]/256/u:0),p=x(e[0],s)-(o?o[1]/256/u:0),f=c/2/256,m=h/2/256;return{tileMinX:Math.floor(d-f),tileMaxX:Math.floor(d+f),tileMinY:Math.floor(p-m),tileMaxY:Math.floor(p+m),tileCenterX:d,tileCenterY:p,roundedZoom:s,zoomDelta:a||0,scaleWidth:c,scaleHeight:h,scale:u}},e.prototype.renderTiles=function(){for(var t=this,e=this.state.oldTiles,n=this.props.dprs,o=this.props.provider||M,a=this.tileValues(this.state),i=a.tileMinX,s=a.tileMaxX,l=a.tileMinY,u=a.tileMaxY,c=a.tileCenterX,h=a.tileCenterY,d=a.roundedZoom,p=a.scaleWidth,f=a.scaleHeight,m=a.scale,g=[],v=0;v<e.length;v++){var w=e[v],x=w.roundedZoom-d;if(!(Math.abs(x)>4||0===x))for(var y=1/Math.pow(2,x),b=256*-(i-w.tileMinX*y),T=256*-(l-w.tileMinY*y),A=Math.max(w.tileMinX,0),_=Math.max(w.tileMinY,0),C=Math.min(w.tileMaxX,Math.pow(2,w.roundedZoom)-1),S=Math.min(w.tileMaxY,Math.pow(2,w.roundedZoom)-1),E=A;E<=C;E++)for(var P=_;P<=S;P++)g.push({key:E+"-"+P+"-"+w.roundedZoom,url:o(E,P,w.roundedZoom),srcSet:k(n,o,E,P,w.roundedZoom),left:b+256*(E-w.tileMinX)*y,top:T+256*(P-w.tileMinY)*y,width:256*y,height:256*y,active:!1})}for(var z=Math.max(i,0),W=Math.max(l,0),L=Math.min(s,Math.pow(2,d)-1),R=Math.min(u,Math.pow(2,d)-1),O=z;O<=L;O++)for(var D=W;D<=R;D++)g.push({key:O+"-"+D+"-"+d,url:o(O,D,d),srcSet:k(n,o,O,D,d),left:256*(O-i),top:256*(D-l),width:256,height:256,active:!0});var F={width:p,height:f,position:"absolute",top:0,left:0,overflow:"hidden",willChange:"transform",transform:"scale("+m+", "+m+")",transformOrigin:"top left"},Z=this.props.boxClassname||"",j={position:"absolute",width:256*(s-i+1),height:256*(u-l+1),willChange:"transform",transform:"translate("+-(256*(c-i)-p/2)+"px, "+-(256*(h-l)-f/2)+"px)"};return r.createElement("div",{style:F,className:Z},r.createElement("div",{style:j},g.map((function(e){return r.createElement("img",{key:e.key,src:e.url,srcSet:e.srcSet,width:e.width,height:e.height,loading:"lazy",onLoad:function(){return t.imageLoaded(e.key)},style:{position:"absolute",left:e.left,top:e.top,willChange:"transform",transform:e.transform,transformOrigin:"top left",opacity:1}})}))))},e.prototype.renderOverlays=function(){var t=this,e=this.state,n=e.width,o=e.height,a=e.center,i={bounds:this.getBounds(),zoom:this.zoomPlusDelta(),center:a,width:n,height:o},s=r.Children.map(this.props.children,(function(e){if(!e)return null;if("string"==typeof e.type)return e;var n=e.props,o=n.anchor,s=n.position,l=n.offset,u=t.latLngToPixel(o||s||a);return r.cloneElement(e,{left:u[0]-(l?l[0]:0),top:u[1]-(l?l[1]:0),latLngToPixel:t.latLngToPixel,pixelToLatLng:t.pixelToLatLng,mapState:i})})),l={position:"absolute",width:n,height:o,top:0,left:0};return r.createElement("div",{style:l},s)},e.prototype.renderAttribution=function(){var t=this.props,e=t.attribution,n=t.attributionPrefix;if(!1===e)return null;var o={color:"#0078A8",textDecoration:"none"};return r.createElement("div",{key:"attr",className:"pigeon-attribution",style:{position:"absolute",bottom:0,right:0,fontSize:"11px",padding:"2px 5px",background:"rgba(255, 255, 255, 0.7)",fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",color:"#333"}},!1===n?null:r.createElement("span",null,n||r.createElement("a",{href:"https://pigeon-maps.js.org/",style:o},"Pigeon")," | "),e||r.createElement("span",null," © ",r.createElement("a",{href:"https://www.openstreetmap.org/copyright",style:o},"OpenStreetMap")," contributors"))},e.prototype.renderWarning=function(){var t=this.props,e=t.metaWheelZoom,n=t.metaWheelZoomWarning,o=t.twoFingerDrag,a=t.twoFingerDragWarning,i=t.warningZIndex,s=this.state,l=s.showWarning,u=s.warningType,c=s.width,h=s.height;if(e&&n||o&&a){var d={position:"absolute",top:0,left:0,width:c,height:h,overflow:"hidden",pointerEvents:"none",opacity:l?100:0,transition:"opacity 300ms",background:"rgba(0,0,0,0.5)",color:"#fff",display:"flex",justifyContent:"center",alignItems:"center",fontSize:22,fontFamily:'"Arial", sans-serif',textAlign:"center",zIndex:i},p="undefined"!=typeof window&&window.navigator&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?"⌘":"⊞",f="fingers"===u?a:n;return r.createElement("div",{style:d},f.replace("META",p))}return null},e.prototype.render=function(){var t=this.props,e=t.touchEvents,n=t.twoFingerDrag,o=this.state,a=o.width,i=o.height,s={width:this.props.width?a:"100%",height:this.props.height?i:"100%",position:"relative",display:"inline-block",overflow:"hidden",background:"#dddddd",touchAction:e?n?"pan-x pan-y":"none":"auto"},l=!(!a||!i);return r.createElement("div",{style:s,ref:this.setRef},l&&this.renderTiles(),l&&this.renderOverlays(),l&&this.renderAttribution(),l&&this.renderWarning())},e}(a.Component);z.defaultProps={animate:!0,metaWheelZoom:!1,metaWheelZoomWarning:"Use META+wheel to zoom!",twoFingerDrag:!1,twoFingerDragWarning:"Use two fingers to move the map",zoomSnap:!0,mouseEvents:!0,touchEvents:!0,warningZIndex:100,animateMaxScreens:5,minZoom:1,maxZoom:18,limitBounds:"center",dprs:[]},t.exports=z},xwRA:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAABECAYAAADQkyaZAAAEnklEQVR4AWIY9mAUjIJRMAr+/fsnAqDOrBUjOYIAml5uyo2fcqnZqdn/oOiYmZmZmUGsZWZmRjEE5WrjqD27nhpQj4J3IHVV9dvGnUG+QNYj+5BBCef++vkPyMerUe475CDiR4BAHrmI/IZ8YFa5z5CtnJwWppAdyFqzCK5BBpAFBAzihFBhVhyJ9evk3NISJJuTYMvVYTRdgXuB7D+8jpeA/Txc7UB3bkGJ8AYRkhv6yXlKLbjhTcORiYhiLrqSwD6M2vRcP9kXyEcrJflArhNsVNgoHRmPaIaNeKEz3Uu2inwpRNKKU/CUNQaHxyO6cheFe0zrBeRHYyW5aco6c3g8bBinrFEIVdu9ZL80fE3WpmaBdeLwWHhFGElVek3jj/TcXXtIhlaU17Gi7Aal1zkZ46frKctfkgLoMbIbtIoO8Env+tOsoFBCFdk1u1bLtW7ZjcearcLh0ZBwTloi0J2b50VPqBXduvycnMcCYSwUNAV3fWl9RpW/oL+KFeDQSMBU5NtTvOgO+lct6Qa0uKSpQ+x69yxZhYlKF5yNaWCwf7OfXcLfqc0rM6pTyAcU0YPSBO58XVVHTtuiMJhrgrs50xfWBtuqqlGbnOFlf1M9ba+64nBw2E/igjMBjvo0E1EEa4sx5DrDyRIvelH54w9u2h4Y8pE4ZYmAvT7FBEiwGIwl1TpnjfCieaWiX0gDE/UOHBj0kRgqcNOVAMaS63Vm/3PUfKxEdL00aCJdJhXF6UcX5MAcpJrBcpMX/UGJ6D5p0FC8gMm8inkaL2sWxRykmjgYvOh6JaKD0qBbbvx033oUM1HuahbFHKSaL8JZXvScKtH9mEwpeEZqFsUcpJrYR1500HBRR331iJ6TBj0PZWHfG7dixkptHaZuh1TzlitOF+V33fFUCZO5FPMsoX0zwhykmoOxPC+6T4noD9KgQLEB+167FHPeHtUset4WJdUcTxZV7bofS4PwMGafGomhvIYLQ75JrhevtnjRL5TejvLSwNOjflLhE2MB1VdAjCWL4jWVF31XqehFaeDbaA72vnaSOGsNk2SxLYsh17loCfGSfsq3l9+kwdXuNOx95SRzHGfCUK7xv5LYhrVVVcORrfCiBymiHyBT0gQ3HBFM7FDFOWsYHseKwI4NT2sWvEi4MweuSof9jm9PQW7afkd9yrBDmiDX7MIeTGwmngVShGlLeHDNRnXPS4cpOPzWBZ3ZOV50q9ongSeWHzVzrAAWsgtnPFGQexfzmW6vI/yFGux5YRPKxYkAL8kY0P0F09tIVpjk4TdO3IAWeckYskaPdzAveNmn/qQQSTzqWH3aTksQ/Qipysnufm5dEQ71ljyg9zvSL5EFOdldzyxGgpKOXpIPjHrr/aOsrM842YOv7HRJ8bLmliTIJmDn0wk9ECZJkI3Dzifjmjjw0gaVzhRdUpSsAEkBst44XfKFlS5pflm6pPllH4/1gyBpctknKLsDheTYT5Q0v6wnhmKjy9j/3EKXXDWyj0YRAZICZFFyQoCkANn2zKwgSQGywiUFyP6uYeBJzLWFVbDpDihdNdx3OAGmiMwfBaNgFIwCAB+MVOu7zsaRAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=component---src-pages-karte-js-4d6b5b7952b502ce2031.js.map